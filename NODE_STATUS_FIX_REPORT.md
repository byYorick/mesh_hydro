# ‚úÖ –û—Ç—á–µ—Ç: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É—Ç–∞–Ω–∏—Ü—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ —É–∑–ª–æ–≤

## üìã –ü—Ä–æ–±–ª–µ–º–∞

–í —Å–∏—Å—Ç–µ–º–µ –±—ã–ª–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ **–Ω–µ—Å–∫–æ–ª—å–∫–æ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è —Å—Ç–∞—Ç—É—Å–æ–≤** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å–∞ —É–∑–ª–æ–≤:

### **–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Å—Ç–∞—Ç—É—Å—ã:**
- ‚ùå `online` - –ø–æ–ª–µ –≤ –ë–î (boolean)
- ‚ùå `is_online` - –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ (boolean) 
- ‚ùå `isOnline` - –º–µ—Ç–æ–¥ –≤ –º–æ–¥–µ–ª–∏ (boolean)
- ‚úÖ `isPumpRunning` - —Å—Ç–∞—Ç—É—Å –Ω–∞—Å–æ—Å–æ–≤ (boolean) - **–æ—Ç–¥–µ–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å, –æ—Å—Ç–∞–≤–ª–µ–Ω**
- ‚úÖ `last_seen_at` - timestamp –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞ - **–æ—Å—Ç–∞–≤–ª–µ–Ω**

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **1. Backend (API) –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

#### **NodeController.php:**
```php
// –ë–´–õ–û (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ):
$node->is_online = $node->isOnline();

// –°–¢–ê–õ–û (–µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã):
$node->online = $node->isOnline();
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –£–±—Ä–∞–ª–∏ `is_online` –∏–∑ API –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –û—Å—Ç–∞–≤–∏–ª–∏ —Ç–æ–ª—å–∫–æ `online` –ø–æ–ª–µ, –æ–±–Ω–æ–≤–ª—è–µ–º–æ–µ —á–µ—Ä–µ–∑ `isOnline()` –º–µ—Ç–æ–¥
- ‚úÖ –ü—Ä–∏–º–µ–Ω–∏–ª–∏ –≤ –º–µ—Ç–æ–¥–∞—Ö `index()` –∏ `show()`

### **2. Frontend –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

#### **stores/nodes.js:**
```javascript
// –ë–´–õ–û (—Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞):
onlineNodes: (state) => {
  return state.nodes.filter(node => {
    return node.is_online !== undefined ? node.is_online : node.online
  })
}

// –°–¢–ê–õ–û (–ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞):
onlineNodes: (state) => {
  return state.nodes.filter(node => node.online)
}
```

#### **services/nodes-api.js:**
```javascript
// –ë–´–õ–û (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ):
online: nodes.filter(n => n.online || n.is_online).length,

// –°–¢–ê–õ–û (–µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫):
online: nodes.filter(n => n.online).length,
```

#### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Vue:**
- ‚úÖ **NodeCard.vue** - —É–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `isOnline`
- ‚úÖ **NodeActions.vue** - —É–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `is_online`
- ‚úÖ **NodeDetail.vue** - —É–ø—Ä–æ—â–µ–Ω `statusColor`
- ‚úÖ **PhNode.vue** - —É–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `is_online`
- ‚úÖ **EcNode.vue** - —É–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `is_online`
- ‚úÖ **Nodes.vue** - —É–ø—Ä–æ—â–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```json
{
  "isOnline": false,           // ‚Üê –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
  "isPumpRunning": false,      // ‚Üê –û—Ç–¥–µ–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å (–û–ö)
  "last_seen_at": "2025-10-20T19:19:54.000000Z",
  "online": false,             // ‚Üê –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ  
  "is_online": false,          // ‚Üê –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
  "node_id": "ph_ec_3cfd01",
  "node_type": "ph_ec"
}
```

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```json
{
  "online": false,             // ‚Üê –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã
  "isPumpRunning": false,      // ‚Üê –û—Ç–¥–µ–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å –Ω–∞—Å–æ—Å–æ–≤
  "last_seen_at": "2025-10-20T19:19:54.000000Z",
  "node_id": "ph_ec_3cfd01",
  "node_type": "ph_ec"
}
```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **1. –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞:**
- ‚úÖ **–û–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã** - —Ç–æ–ª—å–∫–æ `online` –ø–æ–ª–µ
- ‚úÖ **–£–±—Ä–∞–Ω–∞ –ø—É—Ç–∞–Ω–∏—Ü–∞** - –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- ‚úÖ **–ú–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** - —á–∏—â–µ –∫–æ–¥

### **2. –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ **–ú–µ–Ω—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π** - –Ω–µ –¥—É–±–ª–∏—Ä—É–µ–º –ª–æ–≥–∏–∫—É
- ‚úÖ **–ë—ã—Å—Ç—Ä–µ–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –ø—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `node.online`
- ‚úÖ **–ú–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏** - –Ω–µ —Ö—Ä–∞–Ω–∏–º –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –ø–æ–ª—è

### **3. –õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å:**
- ‚úÖ **–ß–µ—Ç–∫–∞—è –ª–æ–≥–∏–∫–∞** - –æ–¥–∏–Ω —Å–ø–æ—Å–æ–± –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ **–ú–µ–Ω—å—à–µ –±–∞–≥–æ–≤** - –Ω–µ—Ç —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–ª–µ–π
- ‚úÖ **–ü—Ä–æ—â–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** - –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

### **4. –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:**
- ‚úÖ **`online`** - —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —É–∑–ª–∞
- ‚úÖ **`isPumpRunning`** - —Å—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç—ã –Ω–∞—Å–æ—Å–æ–≤
- ‚úÖ **`last_seen_at`** - –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### **–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- ‚úÖ **Backend:** 1 —Ñ–∞–π–ª (NodeController.php)
- ‚úÖ **Frontend:** 6 —Ñ–∞–π–ª–æ–≤ (stores, services, components, views)
- ‚úÖ **–í—Å–µ–≥–æ:** 7 —Ñ–∞–π–ª–æ–≤

### **–°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞:**
- ‚úÖ **–£–¥–∞–ª–µ–Ω–æ:** ~15 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞
- ‚úÖ **–£–ø—Ä–æ—â–µ–Ω–æ:** ~8 —Å–ª–æ–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
- ‚úÖ **–£–ª—É—á—à–µ–Ω–æ:** —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **1. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã:**
- üîç –ù–∞–π–¥–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Å—Ç–∞—Ç—É—Å—ã
- üìù –°–æ–∑–¥–∞–Ω –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã
- üéØ –û–ø—Ä–µ–¥–µ–ª–µ–Ω –ø–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **2. Backend –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- üîß –£–±—Ä–∞–ª–∏ `is_online` –∏–∑ API –æ—Ç–≤–µ—Ç–æ–≤
- ‚úÖ –û—Å—Ç–∞–≤–∏–ª–∏ —Ç–æ–ª—å–∫–æ `online` –ø–æ–ª–µ
- üîÑ –û–±–Ω–æ–≤–ª—è–µ–º —á–µ—Ä–µ–∑ `isOnline()` –º–µ—Ç–æ–¥

### **3. Frontend –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- üîß –£–ø—Ä–æ—Å—Ç–∏–ª–∏ –ª–æ–≥–∏–∫—É –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- ‚úÖ –£–±—Ä–∞–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ `is_online`
- üéØ –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ `node.online`

### **4. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞:**
- üê≥ –ü–µ—Ä–µ—Å–æ–±—Ä–∞–ª–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚úÖ –ü—Ä–∏–º–µ–Ω–∏–ª–∏ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- üöÄ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ

### **URL:**
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥:** http://localhost:3000
- **–ë—ç–∫–µ–Ω–¥:** http://localhost:8000
- **WebSocket:** http://localhost:8080

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –ª—é–±–æ–π –Ω–æ–¥–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å—Ç–∞—Ç—É—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ `online` –ø–æ–ª—é
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è —Å—Ç–∞—Ç—É—Å–æ–≤

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –±—É–¥—É—â–µ–µ

### **1. –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã:**
- ‚úÖ –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `online` –ø–æ–ª–µ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `isPumpRunning` –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞—Å–æ—Å–æ–≤
- ‚úÖ –ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –ø–æ–ª—è

### **2. –ü—Ä–æ—Å—Ç–æ—Ç–∞ –ª–æ–≥–∏–∫–∏:**
- ‚úÖ –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω —Å–ø–æ—Å–æ–± –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏–∫—É —Å—Ç–∞—Ç—É—Å–æ–≤

### **3. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ –ö–µ—à–∏—Ä—É–π—Ç–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ –ë–î
- ‚úÖ –û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ò–∑–±–µ–≥–∞–π—Ç–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ü—É—Ç–∞–Ω–∏—Ü–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞! üéâ**

### **–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:**
- üéØ **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã** –¥–ª—è –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å–∞
- üßπ **–£–±—Ä–∞–Ω–∞ –ø—É—Ç–∞–Ω–∏—Ü–∞** –≤ –∫–æ–¥–µ
- ‚ö° **–£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- üîß **–£–ø—Ä–æ—â–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞** –∫–æ–¥–∞
- üì± **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ** —Å—Ç–∞—Ç—É—Å–æ–≤

### **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞:**
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Backend –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—É—é –ª–æ–≥–∏–∫—É
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–¢–µ–ø–µ—Ä—å –≤ —Å–∏—Å—Ç–µ–º–µ –Ω–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏! üöÄ**
