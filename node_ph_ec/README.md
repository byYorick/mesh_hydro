# NODE pH/EC

**ESP32-S3** - Критичный узел с автономной работой

## Функции

- Измерение pH и EC (I2C датчики)
- Управление 5 насосами (pH UP/DOWN, EC A/B/C)
- AI PID контроллер
- OLED дисплей 128x64 (SSD1306)
- Автономная работа при потере связи с ROOT
- Локальный ring buffer (1000 записей)
- Индикация (LED + Buzzer)
- Кнопка MODE

## Распиновка

| GPIO | Назначение |
|------|------------|
| 17 | I2C SCL (pH, EC, OLED) |
| 18 | I2C SDA |
| 1 | Насос pH UP |
| 2 | Насос pH DOWN |
| 3 | Насос EC A |
| 4 | Насос EC B |
| 5 | Насос EC C |
| 15 | LED статус |
| 16 | Buzzer |
| 19 | Кнопка MODE |

## Сборка

```bash
cd node_ph_ec
idf.py set-target esp32s3
idf.py build
idf.py -p COM5 flash monitor
```

## Автономная работа

При потере связи с ROOT:
- Продолжает PID контроль (по настройкам из NVS)
- Буферизует данные локально
- Показывает статус на OLED
- При восстановлении связи отправляет буфер на ROOT

