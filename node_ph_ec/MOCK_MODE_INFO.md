# âš ï¸ NODE pH/EC - MOCK MODE (Ð‘Ð•Ð— Ð”ÐÐ¢Ð§Ð˜ÐšÐžÐ’)

**Ð¢ÐµÐºÑƒÑ‰Ð°Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ: Ð¡Ð¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…**

---

## ðŸŽ¯ Ð§Ð¢Ðž ÐÐšÐ¢Ð˜Ð’Ð˜Ð ÐžÐ’ÐÐÐž

### âœ… MOCK MODE:

- ðŸ”´ **I2C ÐžÐ¢ÐšÐ›Ð®Ð§ÐÐ** - Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ¾Ð²
- ðŸŸ¢ **ÐœÐ¾ÐºÐ¾Ð²Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ** - Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÑŽÑ‚ÑÑ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð½Ð¾
- ðŸŸ¢ **PID Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚** - ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð¸Ñ€ÑƒÐµÑ‚ Ð¼Ð¾ÐºÐ¾Ð²Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ
- ðŸŸ¢ **ÐÐ°ÑÐ¾ÑÑ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚** - PWM Ð²Ñ‹Ñ…Ð¾Ð´Ñ‹ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹ (Ð½Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð½Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð½Ð°ÑÐ¾ÑÑ‹)
- ðŸŸ¢ **Mesh Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚** - Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð½Ð° ROOT
- ðŸŸ¢ **Telemetry Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚** - Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ JSON Ñ Ð¼Ð¾ÐºÐ¾Ð²Ñ‹Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸

---

## ðŸ“Š ÐœÐžÐšÐžÐ’Ð«Ð• Ð—ÐÐÐ§Ð•ÐÐ˜Ð¯

### pH:
```
Ð‘Ð°Ð·Ð¾Ð²Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: 6.5
Ð’Ð°Ñ€Ð¸Ð°Ñ†Ð¸Ñ: Â±0.3
Ð”Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½: 6.2 - 6.8
Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ: ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð¾Ðµ ÐºÐ°Ð¶Ð´ÑƒÑŽ ÑÐµÐºÑƒÐ½Ð´Ñƒ
```

### EC:
```
Ð‘Ð°Ð·Ð¾Ð²Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: 2.5
Ð’Ð°Ñ€Ð¸Ð°Ñ†Ð¸Ñ: Â±0.2
Ð”Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½: 2.3 - 2.7
Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ: ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð¾Ðµ ÐºÐ°Ð¶Ð´ÑƒÑŽ ÑÐµÐºÑƒÐ½Ð´Ñƒ
```

### Temperature:
```
Ð¤Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ: 22.5Â°C
```

---

## ðŸ”§ ÐšÐžÐ” ÐœÐžÐšÐžÐ’ÐžÐ™ Ð¡Ð˜ÐœÐ£Ð›Ð¯Ð¦Ð˜Ð˜

### app_main.c (ÑÑ‚Ñ€Ð¾ÐºÐ¸ 79-94):

```c
// [Step 3/9] I2C init - ÐžÐ¢ÐšÐ›Ð®Ð§ÐÐ Ð”Ð›Ð¯ Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐÐ˜Ð¯ Ð‘Ð•Ð— Ð”ÐÐ¢Ð§Ð˜ÐšÐžÐ’
ESP_LOGI(TAG, "[Step 3/9] I2C init - DISABLED (Mock mode)");
ESP_LOGW(TAG, "  âš ï¸ I2C ÐžÐ¢ÐšÐ›Ð®Ð§ÐÐ - Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð¼Ð¾ÐºÐ¾Ð²Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ!");
// ESP_ERROR_CHECK(i2c_master_init());  // â† Ð—Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾

// [Step 4/9] Sensors init - ÐžÐ¢ÐšÐ›Ð®Ð§Ð•ÐÐ«
ESP_LOGI(TAG, "[Step 4/9] Sensors init - MOCK MODE");
ESP_LOGW(TAG, "  âš ï¸ Ð”ÐÐ¢Ð§Ð˜ÐšÐ˜ ÐžÐ¢ÐšÐ›Ð®Ð§Ð•ÐÐ« - ÑÐ¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…!");
ESP_LOGW(TAG, "  Mock pH: 6.5 Â± 0.3");
ESP_LOGW(TAG, "  Mock EC: 2.5 Â± 0.2");

ESP_LOGI(TAG, "  âœ… MOCK MODE Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½ - Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ¸ Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‚ÑÑ!");
```

### ph_ec_manager.c read_sensors() (ÑÑ‚Ñ€Ð¾ÐºÐ¸ 220-265):

```c
static void read_sensors(void) {
    // Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ñ… Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ð¹
    static float ph_variation = 0.0f;
    static float ec_variation = 0.0f;
    
    // Ð¡Ð»ÑƒÑ‡Ð°Ð¹Ð½Ð¾Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Â±0.05 ÐºÐ°Ð¶Ð´ÑƒÑŽ ÑÐµÐºÑƒÐ½Ð´Ñƒ
    ph_variation += ((float)(esp_random() % 100) - 50.0f) / 1000.0f;
    ec_variation += ((float)(esp_random() % 100) - 50.0f) / 1000.0f;
    
    // ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð²Ð°Ñ€Ð¸Ð°Ñ†Ð¸Ð¹
    if (ph_variation > 0.3f) ph_variation = 0.3f;
    if (ph_variation < -0.3f) ph_variation = -0.3f;
    if (ec_variation > 0.2f) ec_variation = 0.2f;
    if (ec_variation < -0.2f) ec_variation = -0.2f;
    
    // ÐœÐ¾ÐºÐ¾Ð²Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ
    s_current_ph = 6.5f + ph_variation;
    s_current_ec = 2.5f + ec_variation;
}
```

---

## ðŸŽ® Ð§Ð¢Ðž Ð‘Ð£Ð”Ð•Ð¢ Ð ÐÐ‘ÐžÐ¢ÐÐ¢Ð¬ Ð‘Ð•Ð— Ð”ÐÐ¢Ð§Ð˜ÐšÐžÐ’

### âœ… ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:

1. **Mesh Network**
   - ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº ROOT
   - Layer 2
   - RSSI Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³

2. **Heartbeat**
   - ÐšÐ°Ð¶Ð´Ñ‹Ðµ 5 ÑÐµÐºÑƒÐ½Ð´
   - ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð½Ð° ROOT â†’ MQTT â†’ Backend

3. **Telemetry**
   - ÐšÐ°Ð¶Ð´Ñ‹Ðµ 10 ÑÐµÐºÑƒÐ½Ð´
   - ÐœÐ¾ÐºÐ¾Ð²Ñ‹Ðµ pH/EC Ð´Ð°Ð½Ð½Ñ‹Ðµ
   - Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð½Ð°ÑÐ¾ÑÐ¾Ð²

4. **PID ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€**
   - Ð Ð°ÑÑ‡Ñ‘Ñ‚ Ð´Ð¾Ð·Ð¸Ñ€Ð¾Ð²ÐºÐ¸
   - ÐÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ Ð½Ð°ÑÐ¾ÑÐ¾Ð²
   - Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹

5. **ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð¾Ñ‚ ROOT**
   - set_targets
   - manual_pump
   - set_mode
   - emergency_stop

6. **ÐÐ²Ñ‚Ð¾Ð½Ð¾Ð¼Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼**
   - ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸ offline ROOT
   - Ð‘ÑƒÑ„ÐµÑ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…
   - Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÑÐ²ÑÐ·Ð¸

---

## ðŸ“ˆ ÐŸÐ Ð˜ÐœÐ•Ð  Ð›ÐžÐ“ÐžÐ’ (Mock Mode)

### ÐŸÑ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ:
```
I (79) ph_ec_node: [Step 3/9] I2C init - DISABLED (Mock mode)
W (80) ph_ec_node:   âš ï¸ I2C ÐžÐ¢ÐšÐ›Ð®Ð§ÐÐ - Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð¼Ð¾ÐºÐ¾Ð²Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ!
I (85) ph_ec_node: [Step 4/9] Sensors init - MOCK MODE
W (90) ph_ec_node:   âš ï¸ Ð”ÐÐ¢Ð§Ð˜ÐšÐ˜ ÐžÐ¢ÐšÐ›Ð®Ð§Ð•ÐÐ« - ÑÐ¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…!
W (95) ph_ec_node:   Mock pH: 6.5 Â± 0.3
W (100) ph_ec_node:   Mock EC: 2.5 Â± 0.2
I (105) ph_ec_node:   âœ… MOCK MODE Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½ - Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ¸ Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‚ÑÑ!
```

### Ð’Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ (ÐºÐ°Ð¶Ð´ÑƒÑŽ ÑÐµÐºÑƒÐ½Ð´Ñƒ):
```
D (1000) ph_ec_mgr: ðŸ“Š Mock sensors: pH=6.48, EC=2.52
D (1001) ph_ec_mgr: âœ“ pH OK (target 6.50), EC OK (target 2.50)

D (2000) ph_ec_mgr: ðŸ“Š Mock sensors: pH=6.53, EC=2.47
D (2001) ph_ec_mgr: âœ“ pH OK (target 6.50), EC OK (target 2.50)

D (3000) ph_ec_mgr: ðŸ“Š Mock sensors: pH=6.45, EC=2.55
D (3001) ph_ec_mgr: âœ“ pH OK (target 6.50), EC OK (target 2.50)
```

### PID Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ð¸Ñ (ÐºÐ¾Ð³Ð´Ð° pH Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ Ð·Ð° deadband Â±0.1):
```
I (5000) ph_ec_mgr: ðŸ“Š Mock sensors: pH=6.35, EC=2.48
I (5005) ph_ec_mgr: pH UP: 0.3 ml (current=6.35, target=6.50)
I (5010) pump_ctrl: Pump pH UP running (dose=0.3 ml, 600 ms)
I (5615) pump_ctrl: Pump pH UP stopped (total: 0.3 ml)
```

---

## ðŸ”„ ÐšÐÐš Ð’ÐšÐ›Ð®Ð§Ð˜Ð¢Ð¬ Ð Ð•ÐÐ›Ð¬ÐÐ«Ð• Ð”ÐÐ¢Ð§Ð˜ÐšÐ˜

### Ð¨Ð°Ð³ 1: Ð Ð°ÑÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹ I2C

Ð’ `node_ph_ec/main/app_main.c` (ÑÑ‚Ñ€Ð¾ÐºÐ° 82):

```c
// Ð‘Ð«Ð›Ðž (mock):
// ESP_ERROR_CHECK(i2c_master_init());  // â† Ð—Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾

// Ð¡Ð¢ÐÐ›Ðž (production):
ESP_ERROR_CHECK(i2c_master_init());  // â† Ð Ð°ÑÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ!
```

### Ð¨Ð°Ð³ 2: Ð Ð°ÑÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹ Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ¸

Ð’ `node_ph_ec/main/app_main.c` (ÑÑ‚Ñ€Ð¾ÐºÐ¸ 91-92):

```c
// Ð‘Ð«Ð›Ðž (mock):
// esp_err_t ret_ph = ph_sensor_init(I2C_MASTER_NUM);  // â† Ð—Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾
// esp_err_t ret_ec = ec_sensor_init(I2C_MASTER_NUM);  // â† Ð—Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾

// Ð¡Ð¢ÐÐ›Ðž (production):
ESP_LOGI(TAG, "  - pH sensor (0x%02X)...", PH_SENSOR_ADDR);
esp_err_t ret_ph = ph_sensor_init(I2C_MASTER_NUM);
if (ret_ph != ESP_OK) {
    ESP_LOGW(TAG, "    WARNING: pH sensor init failed.");
} else {
    ESP_LOGI(TAG, "    OK");
}

ESP_LOGI(TAG, "  - EC sensor (0x%02X)...", EC_SENSOR_ADDR);
esp_err_t ret_ec = ec_sensor_init(I2C_MASTER_NUM);
if (ret_ec != ESP_OK) {
    ESP_LOGW(TAG, "    WARNING: EC sensor init failed.");
} else {
    ESP_LOGI(TAG, "    OK");
}
```

### Ð¨Ð°Ð³ 3: Ð Ð°ÑÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ðµ Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ

Ð’ `node_ph_ec/components/ph_ec_manager/ph_ec_manager.c` (ÑÑ‚Ñ€Ð¾ÐºÐ¸ 244-265):

```c
// Ð‘Ð«Ð›Ðž (mock):
s_current_ph = 6.5f + ph_variation;
s_current_ec = 2.5f + ec_variation;

// Ð¡Ð¢ÐÐ›Ðž (production):
// Ð—Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹ Ð¼Ð¾ÐºÐ¾Ð²Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¸ Ñ€Ð°ÑÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹:
esp_err_t ret;

// Ð§Ñ‚ÐµÐ½Ð¸Ðµ pH
ret = ph_sensor_read(&s_current_ph);
if (ret != ESP_OK) {
    ESP_LOGW(TAG, "pH sensor read failed");
}

// Ð§Ñ‚ÐµÐ½Ð¸Ðµ EC
ret = ec_sensor_read(&s_current_ec);
if (ret != ESP_OK) {
    ESP_LOGW(TAG, "EC sensor read failed");
}

// ÐšÐ¾Ð¼Ð¿ÐµÐ½ÑÐ°Ñ†Ð¸Ñ Ñ‚ÐµÐ¼Ð¿ÐµÑ€Ð°Ñ‚ÑƒÑ€Ñ‹ Ð´Ð»Ñ EC
ec_sensor_set_temperature(25.0f);
```

### Ð¨Ð°Ð³ 4: ÐŸÐµÑ€ÐµÑÐ¾Ð±ÐµÑ€Ð¸

```batch
cd node_ph_ec
C:\Espressif\idf_cmd_init.bat esp-idf-1dcc643656a1439837fdf6ab63363005
idf.py fullclean
idf.py build
idf.py -p COM9 flash monitor
```

---

## ðŸ§ª Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐÐ˜Ð• MOCK MODE

### Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸ ÑƒÐ·ÐµÐ»:

```batch
tools\flash_ph_ec.bat
```

### ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ðµ Ð»Ð¾Ð³Ð¸:

```
I (80) ph_ec_node:   âš ï¸ I2C ÐžÐ¢ÐšÐ›Ð®Ð§ÐÐ - Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð¼Ð¾ÐºÐ¾Ð²Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ!
I (85) ph_ec_node: [Step 4/9] Sensors init - MOCK MODE
W (90) ph_ec_node:   âš ï¸ Ð”ÐÐ¢Ð§Ð˜ÐšÐ˜ ÐžÐ¢ÐšÐ›Ð®Ð§Ð•ÐÐ« - ÑÐ¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…!
I (105) ph_ec_node:   âœ… MOCK MODE Ð°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½ - Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ¸ Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‚ÑÑ!
...
I (5000) mesh_manager: âœ“ MESH Parent connected!
I (5005) mesh_manager: Layer: 2
...
D (10000) ph_ec_mgr: ðŸ“Š Mock sensors: pH=6.48, EC=2.52
I (10010) ph_ec_mgr: ðŸ“Š Telemetry: pH=6.48, EC=2.52, RSSI=-45
I (15000) ph_ec_mgr: ðŸ’“ Heartbeat sent (uptime=10s, heap=165KB, RSSI=-43)
```

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ Dashboard:

ÐžÑ‚ÐºÑ€Ð¾Ð¹: http://localhost:3000

**Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑŒÑÑ:**
- âœ… `ph_ec_001` (ph_ec) - **ONLINE**
- âœ… pH: 6.5 Â± 0.3
- âœ… EC: 2.5 Â± 0.2

---

## ðŸŽ¯ ÐŸÐ Ð•Ð˜ÐœÐ£Ð©Ð•Ð¡Ð¢Ð’Ð MOCK MODE

### âœ… Ð”Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸:
- ÐÐµ Ð½ÑƒÐ¶Ð½Ñ‹ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ¸ Trema (Ð´Ð¾Ñ€Ð¾Ð³Ð¸Ðµ!)
- ÐÐµ Ð½ÑƒÐ¶Ð½Ñ‹ Ð½Ð°ÑÐ¾ÑÑ‹ Ð¸ Ñ€Ð°ÑÑ‚Ð²Ð¾Ñ€Ñ‹
- ÐœÐ¾Ð¶Ð½Ð¾ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ mesh Ð¸ backend
- ÐœÐ¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ Dashboard
- ÐœÐ¾Ð¶Ð½Ð¾ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

### âœ… Ð”Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸:
- Ð”ÐµÑ‚ÐµÑ€Ð¼Ð¸Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ
- Ð›ÐµÐ³ÐºÐ¾ Ð²Ð¾ÑÐ¿Ñ€Ð¾Ð¸Ð·Ð²ÐµÑÑ‚Ð¸ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸
- Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ Ð¸Ñ‚ÐµÑ€Ð°Ñ†Ð¸Ñ (Ð½Ðµ Ð¶Ð´Ð°Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ pH Ð² Ñ€Ð°ÑÑ‚Ð²Ð¾Ñ€Ðµ)
- Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ (Ð½Ðµ Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ‚ÑÑ Ñ€Ð°ÑÑ‚Ð²Ð¾Ñ€)

### âœ… Ð”Ð»Ñ Ð´ÐµÐ¼Ð¾Ð½ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸:
- ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ð±ÐµÐ· ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð¾Ð±Ð¾Ñ€ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ
- Ð”ÐµÐ¼Ð¾ Ð´Ð»Ñ Ð·Ð°ÐºÐ°Ð·Ñ‡Ð¸ÐºÐ°
- ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²Ñ‹Ñ… Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð²

---

## ðŸ”Œ ÐŸÐžÐ”ÐšÐ›Ð®Ð§Ð•ÐÐ˜Ð• Ð Ð•ÐÐ›Ð¬ÐÐ«Ð¥ Ð”ÐÐ¢Ð§Ð˜ÐšÐžÐ’ (PRODUCTION)

### ÐšÐ¾Ð³Ð´Ð° Ð±ÑƒÐ´ÐµÑˆÑŒ Ð³Ð¾Ñ‚Ð¾Ð²:

1. **ÐšÑƒÐ¿Ð¸ Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ¸:**
   - Trema pH Sensor (I2C 0x4D) ~$30
   - Trema EC Sensor (I2C 0x64) ~$30

2. **ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸ Ðº ESP32-S3:**
   ```
   pH Sensor:
     VCC â†’ 3.3V
     GND â†’ GND
     SDA â†’ GPIO 18
     SCL â†’ GPIO 17
   
   EC Sensor:
     VCC â†’ 3.3V
     GND â†’ GND
     SDA â†’ GPIO 18 (shared)
     SCL â†’ GPIO 17 (shared)
   ```

3. **Ð Ð°ÑÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹ ÐºÐ¾Ð´** (ÑÐ¼. Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸ÑŽ Ð²Ñ‹ÑˆÐµ)

4. **ÐšÐ°Ð»Ð¸Ð±Ñ€ÑƒÐ¹ Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ¸:**
   ```bash
   # pH 7.0 Ð±ÑƒÑ„ÐµÑ€:
   mosquitto_pub -h 192.168.1.100 -t hydro/command/ph_ec_001 -m '{
     "type": "command",
     "node_id": "ph_ec_001",
     "command": "calibrate_ph",
     "params": {"buffer_ph": 7.0}
   }'
   
   # EC 2.77 mS/cm Ñ€Ð°ÑÑ‚Ð²Ð¾Ñ€:
   mosquitto_pub -h 192.168.1.100 -t hydro/command/ph_ec_001 -m '{
     "type": "command",
     "node_id": "ph_ec_001",
     "command": "calibrate_ec",
     "params": {"solution_ec": 2.77}
   }'
   ```

5. **ÐŸÐµÑ€ÐµÑÐ¾Ð±ÐµÑ€Ð¸ Ð¸ Ð¿Ñ€Ð¾ÑˆÐµÐ¹:**
   ```batch
   tools\flash_ph_ec.bat
   ```

---

## ðŸ“‹ Ð¡Ð ÐÐ’ÐÐ•ÐÐ˜Ð•: Mock vs Production

| Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ | Mock Mode | Production Mode |
|---------|-----------|-----------------|
| **I2C** | âŒ ÐžÑ‚ÐºÐ»ÑŽÑ‡Ñ‘Ð½ | âœ… ÐÐºÑ‚Ð¸Ð²ÐµÐ½ |
| **pH Sensor** | ðŸŸ¡ Ð¡Ð¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ñ | âœ… Ð ÐµÐ°Ð»ÑŒÐ½Ð¾Ðµ Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ |
| **EC Sensor** | ðŸŸ¡ Ð¡Ð¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ñ | âœ… Ð ÐµÐ°Ð»ÑŒÐ½Ð¾Ðµ Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ |
| **ÐÐ°ÑÐ¾ÑÑ‹ PWM** | âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ | âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ |
| **PID ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€** | âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ | âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ |
| **Mesh ÑÐµÑ‚ÑŒ** | âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ | âœ… Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ |
| **Telemetry** | âœ… ÐœÐ¾ÐºÐ¾Ð²Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ | âœ… Ð ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ |
| **ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹** | âœ… ÐžÐ±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ | âœ… ÐžÐ±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÑŽÑ‚ÑÑ |
| **ÐšÐ°Ð»Ð¸Ð±Ñ€Ð¾Ð²ÐºÐ°** | âŒ ÐÐµ Ð½ÑƒÐ¶Ð½Ð° | âœ… ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð° |

---

## ðŸŽ‰ Ð¡Ð•Ð™Ð§ÐÐ¡ ÐœÐžÐ–ÐÐž Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐ¢Ð¬:

### Ð‘ÐµÐ· Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð¾Ð±Ð¾Ñ€ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ:

```batch
# 1. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸ Backend
tools\server_start.bat

# 2. ÐŸÑ€Ð¾ÑˆÐµÐ¹ ROOT
tools\flash_root.bat

# 3. ÐŸÑ€Ð¾ÑˆÐµÐ¹ pH/EC (MOCK MODE)
tools\flash_ph_ec.bat

# 4. ÐžÑ‚ÐºÑ€Ð¾Ð¹ Dashboard
start http://localhost:3000
```

**Ð£Ð²Ð¸Ð´Ð¸ÑˆÑŒ:**
- âœ… `root_98a316f5fde8` - ONLINE
- âœ… `climate_001` - ONLINE (ÐµÑÐ»Ð¸ Ð¿Ñ€Ð¾ÑˆÐ¸Ñ‚)
- âœ… `ph_ec_001` - ONLINE (Ð¼Ð¾ÐºÐ¾Ð²Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ!)

**ÐÐ° ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐµ pH/EC:**
```
pH: 6.5 (target 6.5)
EC: 2.5 (target 2.5)
Status: ONLINE
Mode: Online
```

---

## ðŸ”® ÐŸÐ›ÐÐÐ« ÐÐ PRODUCTION

### ÐšÐ¾Ð³Ð´Ð° Ð±ÑƒÐ´ÑƒÑ‚ Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ¸:

1. Ð Ð°ÑÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹ 3 Ð±Ð»Ð¾ÐºÐ° ÐºÐ¾Ð´Ð° (ÑÐ¼. Ð²Ñ‹ÑˆÐµ)
2. ÐŸÐµÑ€ÐµÑÐ¾Ð±ÐµÑ€Ð¸: `idf.py fullclean && idf.py build`
3. ÐŸÑ€Ð¾ÑˆÐµÐ¹: `idf.py -p COM9 flash monitor`
4. ÐšÐ°Ð»Ð¸Ð±Ñ€ÑƒÐ¹ pH (Ð±ÑƒÑ„ÐµÑ€ 7.0 Ð¸ 4.0)
5. ÐšÐ°Ð»Ð¸Ð±Ñ€ÑƒÐ¹ EC (Ñ€Ð°ÑÑ‚Ð²Ð¾Ñ€ 2.77 mS/cm)
6. Ð“Ð¾Ñ‚Ð¾Ð²Ð¾! Ð ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ñ‚Ñ‡Ð¸ÐºÐ¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚.

---

**Ð¡Ð•Ð™Ð§ÐÐ¡: Ð ÐÐ‘ÐžÐ¢ÐÐ•Ð¢ Ð‘Ð•Ð— Ð”ÐÐ¢Ð§Ð˜ÐšÐžÐ’! ÐœÐžÐ–ÐÐž Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐ¢Ð¬ MESH Ð˜ BACKEND!** ðŸŽ®âœ…

