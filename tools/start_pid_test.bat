@echo off
echo üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è PID —Å–∏—Å—Ç–µ–º—ã —Å –º–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ pH
echo ================================================================

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –º—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
if not exist "..\node_ph" (
    echo ‚ùå –û—à–∏–±–∫–∞: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –ø–∞–ø–∫–∏ tools
    pause
    exit /b 1
)

echo üìÅ –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é node_ph...
cd ..\node_ph

echo.
echo üî® –°–±–æ—Ä–∫–∞ pH —É–∑–ª–∞...
call build.bat
if errorlevel 1 (
    echo ‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏
    pause
    exit /b 1
)

echo.
echo ‚úÖ –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!
echo.
echo üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
echo 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ ESP32-C3 –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É
echo 2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç COM –¥–æ—Å—Ç—É–ø–µ–Ω
echo 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ flash.bat –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏
echo 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ test_pid_system.py –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
echo.

set /p choice="‚ùì –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—à–∏–≤–∫—É —Å–µ–π—á–∞—Å? (y/n): "
if /i "%choice%"=="y" (
    echo.
    echo üîå –ü—Ä–æ—à–∏–≤–∫–∞ ESP32...
    call flash.bat
)

echo.
echo üéØ –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
echo    python test_pid_system.py
echo.
pause
