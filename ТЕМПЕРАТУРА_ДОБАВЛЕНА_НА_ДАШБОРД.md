# ‚úÖ –¢–ï–ú–ü–ï–†–ê–¢–£–†–ê –î–û–ë–ê–í–õ–ï–ù–ê –ù–ê DASHBOARD

**–î–∞—Ç–∞:** 19 –æ–∫—Ç—è–±—Ä—è 2025  
**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –¥–ª—è pH/EC —É–∑–ª–æ–≤

---

## üéØ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û

### –ü—Ä–æ–±–ª–µ–º–∞:
–ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ `ph_ec_001` –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, —Ö–æ—Ç—è —É–∑–µ–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ—ë –≤ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏.

### –†–µ—à–µ–Ω–∏–µ:
–î–æ–±–∞–≤–ª–µ–Ω —Ç—Ä–µ—Ç–∏–π —Å—Ç–æ–ª–±–µ—Ü –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ pH/EC —É–∑–ª–∞.

---

## üì± –ö–ê–ö –í–´–ì–õ–Ø–î–ò–¢ –°–ï–ô–ß–ê–°

### –î–û (—Ç–æ–ª—å–∫–æ pH –∏ EC):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ph_ec_001         üü¢ Online ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  6.52        2.48            ‚îÇ
‚îÇ   pH       EC (mS/cm)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–û–°–õ–ï (pH, EC + –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞):
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ph_ec_001           üü¢ Online   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  6.52      2.48       22.5¬∞C    ‚îÇ
‚îÇ   pH     EC (mS/cm)  –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### 1. ESP32 –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:

```json
{
  "type": "telemetry",
  "node_id": "ph_ec_001",
  "data": {
    "ph": 6.52,
    "ec": 2.48,
    "temperature": 22.5,  ‚Üê –≠–¢–û –ü–û–õ–ï –£–ñ–ï –û–¢–ü–†–ê–í–õ–Ø–õ–û–°–¨
    "ph_target": 6.5,
    "ec_target": 2.5
  }
}
```

üìç –§–∞–π–ª: `node_ph_ec/components/ph_ec_manager/ph_ec_manager.c`  
üìç –§—É–Ω–∫—Ü–∏—è: `send_telemetry()`, —Å—Ç—Ä–æ–∫–∞ 409

```c
"\"temperature\":%.2f,"
...
22.5f,  // TODO: —Ä–µ–∞–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (—Å–µ–π—á–∞—Å –º–æ–∫–æ–≤–∞—è)
```

---

### 2. Backend —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç:

‚úÖ Backend —É–∂–µ —Å–æ—Ö—Ä–∞–Ω—è–ª `temperature` –≤ –ø–æ–ª–µ `data` —Ç–∞–±–ª–∏—Ü—ã `telemetry`.

üìç –§–∞–π–ª: `server/backend/app/Services/MqttService.php`  
üìç –§—É–Ω–∫—Ü–∏—è: `handleTelemetry()`, —Å—Ç—Ä–æ–∫–∞ 163

```php
$telemetry = Telemetry::create([
    'node_id' => $data['node_id'],
    'node_type' => $nodeType,
    'data' => $data['data'] ?? [],  ‚Üê temperature –∑–¥–µ—Å—å!
    'received_at' => now(),
]);
```

---

### 3. Frontend —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:

‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ç—Ä–µ—Ç–∏–π —Å—Ç–æ–ª–±–µ—Ü –¥–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.

üìç –§–∞–π–ª: `server/frontend/src/components/NodeCard.vue`  
üìç –°—Ç—Ä–æ–∫–∏: 29-50

**–ë–´–õ–û (cols="6" –¥–ª—è pH –∏ EC):**
```vue
<v-row dense>
  <v-col cols="6">
    <div class="text-h4">{{ lastData.ph?.toFixed(2) }}</div>
    <div class="text-caption">pH</div>
  </v-col>
  <v-col cols="6">
    <div class="text-h4">{{ lastData.ec?.toFixed(2) }}</div>
    <div class="text-caption">EC (mS/cm)</div>
  </v-col>
</v-row>
```

**–°–¢–ê–õ–û (cols="4" –¥–ª—è pH, EC –∏ Temperature):**
```vue
<v-row dense>
  <v-col cols="4">
    <div class="text-h4">{{ lastData.ph?.toFixed(2) }}</div>
    <div class="text-caption">pH</div>
  </v-col>
  <v-col cols="4">
    <div class="text-h4">{{ lastData.ec?.toFixed(2) }}</div>
    <div class="text-caption">EC (mS/cm)</div>
  </v-col>
  <v-col cols="4">
    <div class="text-h5">{{ lastData.temperature?.toFixed(1) }}¬∞C</div>
    <div class="text-caption">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</div>
  </v-col>
</v-row>
```

---

## ‚úÖ –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–ô

### Frontend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω:
```bash
cd server
docker-compose restart frontend
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Container `hydro_frontend` –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ.

---

## üß™ –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨

### 1. –û—Ç–∫—Ä–æ–π Dashboard:
```
http://localhost:3000
```

### 2. –ù–∞–π–¥–∏ –∫–∞—Ä—Ç–æ—á–∫—É `ph_ec_001`:

–î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è **3 –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ä—è–¥:**
- **6.52** (pH)
- **2.48** (EC)
- **22.5¬∞C** (–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞) ‚Üê **–ù–û–í–û–ï!**

### 3. –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–Ω–æ:
- **Ctrl + F5** (–∂—ë—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
- –ü–æ–¥–æ–∂–¥–∏ 10-15 —Å–µ–∫—É–Ω–¥ (–Ω–æ–≤–∞—è —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è –æ—Ç ph_ec —É–∑–ª–∞)

---

## üìä –ú–û–ö–û–í–ê–Ø –¢–ï–ú–ü–ï–†–ê–¢–£–†–ê

### –°–µ–π—á–∞—Å:
```c
22.5f  // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è mock mode
```

### –î–ª—è production (–∫–æ–≥–¥–∞ –±—É–¥—É—Ç –¥–∞—Ç—á–∏–∫–∏):
–ù—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —Å –¥–∞—Ç—á–∏–∫–∞ pH/EC (—É Trema –¥–∞—Ç—á–∏–∫–æ–≤ –µ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π —Å–µ–Ω—Å–æ—Ä).

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**
1. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å I2C (—Å–º. `MOCK_MODE_INFO.md`)
2. –î–æ–±–∞–≤–∏—Ç—å —á—Ç–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:
   ```c
   float temperature = 0.0f;
   esp_err_t ret = ph_sensor_read_temperature(&temperature);
   if (ret != ESP_OK) {
       temperature = 22.5f; // fallback
   }
   ```
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ `send_telemetry()`:
   ```c
   "\"temperature\":%.2f,"
   ...
   temperature,  // ‚Üê –≤–º–µ—Å—Ç–æ 22.5f
   ```

---

## üéâ –ì–û–¢–û–í–û!

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å:
- ‚úÖ ESP32 –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É (–º–æ–∫–æ–≤—É—é 22.5¬∞C)
- ‚úÖ Backend —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É
- ‚úÖ Frontend –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ
- ‚úÖ –§–æ—Ä–º–∞—Ç: `22.5¬∞C` (1 –∑–Ω–∞–∫ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π)

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ:
- [ ] –†–µ–∞–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —Å –¥–∞—Ç—á–∏–∫–∞ (–∫–æ–≥–¥–∞ –±—É–¥—É—Ç Trema –¥–∞—Ç—á–∏–∫–∏)
- [ ] –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–≥–æ —Å–µ–Ω—Å–æ—Ä–∞
- [ ] –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –¥–ª—è EC (—É–∂–µ –µ—Å—Ç—å –≤ –∫–æ–¥–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mock 25¬∞C)

---

**–¢–ï–ü–ï–†–¨ –ù–ê DASHBOARD –û–¢–û–ë–†–ê–ñ–ê–Æ–¢–°–Ø –í–°–ï 3 –ü–ê–†–ê–ú–ï–¢–†–ê: pH, EC, –¢–ï–ú–ü–ï–†–ê–¢–£–†–ê!** üéâüìà

