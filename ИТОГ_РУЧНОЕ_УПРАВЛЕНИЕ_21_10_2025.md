# üéÆ –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢: –†–£–ß–ù–û–ï –£–ü–†–ê–í–õ–ï–ù–ò–ï –ù–ê–°–û–°–ê–ú–ò

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û (Firmware - –ù–æ–¥—ã)

### 1. **–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö** ‚úÖ
**–§–∞–π–ª:** `common/node_config/node_config.h`

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –Ω–∞—Å–æ—Å–æ–≤:
```c
typedef struct {
    float ml_per_second;           // –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–ª/—Å–µ–∫)
    uint32_t calibration_time_ms;  // –í—Ä–µ–º—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
    float calibration_volume_ml;   // –û–±—ä–µ–º –ø—Ä–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–µ
    uint64_t last_calibrated;      // Timestamp
    bool is_calibrated;            // –§–ª–∞–≥ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
} pump_calibration_t;
```

### 2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω—ã** ‚úÖ
- `ph_node_config_t` - –¥–æ–±–∞–≤–ª–µ–Ω –º–∞—Å—Å–∏–≤ `pump_calibration[2]`
- `ec_node_config_t` - –¥–æ–±–∞–≤–ª–µ–Ω –º–∞—Å—Å–∏–≤ `pump_calibration[3]`

### 3. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** ‚úÖ
- `node_ph/main/app_main.c` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è 2 –Ω–∞—Å–æ—Å–æ–≤ (1.0 –º–ª/—Å–µ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `node_ec/main/app_main.c` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è 3 –Ω–∞—Å–æ—Å–æ–≤ (1.0 –º–ª/—Å–µ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### 4. **–ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (pH –Ω–æ–¥–∞)** ‚úÖ
**–§–∞–π–ª:** `node_ph/components/ph_manager/ph_manager.c`

#### ‚úÖ `run_pump_manual` - –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –Ω–∞—Å–æ—Å–∞
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `pump_id` (0=UP, 1=DOWN), `duration_sec` (0.1-30.0 —Å–µ–∫)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ó–∞–ø—É—Å–∫ –Ω–∞—Å–æ—Å–∞ —á–µ—Ä–µ–∑ `pump_controller_run()`

#### ‚úÖ `calibrate_pump` - –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–∞—Å–æ—Å–∞
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `pump_id`, `duration_sec`, `volume_ml`
- –†–∞—Å—á–µ—Ç `ml_per_second = volume / duration`
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ NVS
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

#### ‚úÖ `get_config` - –ó–∞–ø—Ä–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –°–æ–∑–¥–∞–Ω–∏–µ JSON —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- –í–∫–ª—é—á–∞–µ—Ç: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã pH, –∫–∞–ª–∏–±—Ä–æ–≤–∫—É –Ω–∞—Å–æ—Å–æ–≤, PID, safety –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –û—Ç–ø—Ä–∞–≤–∫–∞ `config_response` –æ–±—Ä–∞—Ç–Ω–æ —á–µ—Ä–µ–∑ ROOT

### 5. **–ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (EC –Ω–æ–¥–∞)** ‚úÖ
**–§–∞–π–ª:** `node_ec/components/ec_manager/ec_manager.c`

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç–µ –∂–µ 3 –∫–æ–º–∞–Ω–¥—ã –¥–ª—è 3 –Ω–∞—Å–æ—Å–æ–≤ (A=0, B=1, C=2):
- ‚úÖ `run_pump_manual`
- ‚úÖ `calibrate_pump`
- ‚úÖ `get_config`

---

## üìä JSON –§–û–†–ú–ê–¢–´ –ö–û–ú–ê–ù–î

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –Ω–∞—Å–æ—Å–∞:
```json
{
  "type": "command",
  "node_id": "ph_001",
  "command": "run_pump_manual",
  "params": {
    "pump_id": 0,
    "duration_sec": 5.0
  }
}
```

### –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–∞—Å–æ—Å–∞:
```json
{
  "type": "command",
  "node_id": "ph_001",
  "command": "calibrate_pump",
  "params": {
    "pump_id": 0,
    "duration_sec": 10.0,
    "volume_ml": 12.5
  }
}
```

### –ó–∞–ø—Ä–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```json
{
  "type": "command",
  "node_id": "ph_001",
  "command": "get_config",
  "params": {}
}
```

### –û—Ç–≤–µ—Ç –æ—Ç –Ω–æ–¥—ã:
```json
{
  "type": "config_response",
  "node_id": "ph_001",
  "config": {
    "node_id": "ph_001",
    "node_type": "ph",
    "zone": "Auto-discovered",
    "ph_target": 6.5,
    "ph_min": 5.5,
    "ph_max": 7.5,
    "pumps_calibration": [
      {
        "pump_id": 0,
        "ml_per_second": 1.25,
        "calibration_volume_ml": 12.5,
        "calibration_time_ms": 10000,
        "is_calibrated": true,
        "last_calibrated": 1729500000
      },
      {
        "pump_id": 1,
        "ml_per_second": 1.0,
        "calibration_volume_ml": 10.0,
        "calibration_time_ms": 10000,
        "is_calibrated": false,
        "last_calibrated": 0
      }
    ],
    "pumps_pid": [...],
    "max_pump_time_ms": 5000,
    "cooldown_ms": 10000,
    "autonomous_enabled": true
  }
}
```

---

## üöß –û–°–¢–ê–õ–û–°–¨ –°–î–ï–õ–ê–¢–¨

### 1. **Backend (Laravel)** ‚è≥

#### –°–æ–∑–¥–∞—Ç—å API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
```php
// app/Http/Controllers/NodeController.php

// –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –Ω–∞—Å–æ—Å–∞
POST /api/nodes/{nodeId}/pump/run
{
  "pump_id": 0,
  "duration_sec": 5.0
}

// –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–∞—Å–æ—Å–∞
POST /api/nodes/{nodeId}/pump/calibrate
{
  "pump_id": 0,
  "duration_sec": 10.0,
  "volume_ml": 12.5
}

// –ó–∞–ø—Ä–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
GET /api/nodes/{nodeId}/config/request

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ –∫—ç—à–∞
GET /api/nodes/{nodeId}/config
```

#### –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î:
```sql
CREATE TABLE pump_calibrations (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    node_id VARCHAR(32),
    pump_id INT,
    ml_per_second FLOAT,
    calibration_volume_ml FLOAT,
    calibration_time_ms INT,
    is_calibrated BOOLEAN,
    calibrated_at TIMESTAMP,
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    INDEX idx_node_pump (node_id, pump_id)
);
```

#### –û–±–Ω–æ–≤–∏—Ç—å MqttService:
```php
// –û–±—Ä–∞–±–æ—Ç–∫–∞ config_response –æ—Ç –Ω–æ–¥—ã
protected function handleConfigResponse($payload) {
    $nodeId = $payload['node_id'];
    $config = $payload['config'];
    
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –∫—ç—à
    Cache::put("node_config:{$nodeId}", $config, 3600);
    
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–ª–∏–±—Ä–æ–≤–∫—É –Ω–∞—Å–æ—Å–æ–≤ –≤ –ë–î
    foreach ($config['pumps_calibration'] as $pump) {
        PumpCalibration::updateOrCreate(
            ['node_id' => $nodeId, 'pump_id' => $pump['pump_id']],
            [
                'ml_per_second' => $pump['ml_per_second'],
                'calibration_volume_ml' => $pump['calibration_volume_ml'],
                'calibration_time_ms' => $pump['calibration_time_ms'],
                'is_calibrated' => $pump['is_calibrated'],
                'calibrated_at' => Carbon::createFromTimestamp($pump['last_calibrated'])
            ]
        );
    }
    
    // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ WebSocket –Ω–∞ —Ñ—Ä–æ–Ω—Ç
    event(new NodeConfigUpdated($nodeId, $config));
}
```

---

### 2. **Frontend (Vue.js)** ‚è≥

#### –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `PhNode.vue`:
```vue
<template>
  <div class="ph-node-control">
    <h2>{{ node.node_id }} - pH Control</h2>
    
    <!-- –¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è -->
    <div class="current-values">
      <div class="value-card">
        <span class="label">Current pH:</span>
        <span class="value">{{ node.telemetry.ph }}</span>
      </div>
      <div class="value-card">
        <span class="label">Target pH:</span>
        <span class="value">{{ node.config.ph_target }}</span>
      </div>
    </div>
    
    <!-- –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å–æ—Å–∞–º–∏ -->
    <div class="pump-controls">
      <h3>Manual Pump Control</h3>
      
      <div v-for="pump in [0, 1]" :key="pump" class="pump-control">
        <span class="pump-label">Pump {{ pump === 0 ? 'UP' : 'DOWN' }}</span>
        
        <!-- –í—ã–±–æ—Ä –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ -->
        <input 
          type="number" 
          v-model="pumpDuration[pump]" 
          min="0.1" 
          max="30.0" 
          step="0.1"
          placeholder="Duration (sec)"
        />
        
        <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ -->
        <button @click="runPump(pump)" class="btn-run">
          Run {{ pumpDuration[pump] }}s
        </button>
        
        <!-- –°—Ç–∞—Ç—É—Å –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ -->
        <span v-if="node.config.pumps_calibration[pump].is_calibrated" class="calibrated">
          ‚úÖ {{ node.config.pumps_calibration[pump].ml_per_second.toFixed(2) }} ml/s
        </span>
        <span v-else class="not-calibrated">
          ‚ö†Ô∏è Not calibrated
        </span>
      </div>
    </div>
    
    <!-- –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–∞—Å–æ—Å–æ–≤ -->
    <div class="pump-calibration">
      <h3>Pump Calibration</h3>
      
      <div v-for="pump in [0, 1]" :key="pump" class="calibration-form">
        <span class="pump-label">Pump {{ pump === 0 ? 'UP' : 'DOWN' }}</span>
        
        <input 
          type="number" 
          v-model="calibrationDuration[pump]" 
          placeholder="Duration (sec)"
        />
        
        <input 
          type="number" 
          v-model="calibrationVolume[pump]" 
          placeholder="Volume (ml)"
        />
        
        <button @click="calibratePump(pump)" class="btn-calibrate">
          Calibrate
        </button>
      </div>
    </div>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ -->
    <div class="config-actions">
      <button @click="requestConfig" class="btn-refresh">
        üîÑ Refresh Config from Node
      </button>
    </div>
  </div>
</template>

<script>
export default {
  props: ['node'],
  data() {
    return {
      pumpDuration: [5.0, 5.0],
      calibrationDuration: [10.0, 10.0],
      calibrationVolume: [10.0, 10.0]
    }
  },
  methods: {
    async runPump(pumpId) {
      try {
        await this.$axios.post(`/api/nodes/${this.node.node_id}/pump/run`, {
          pump_id: pumpId,
          duration_sec: this.pumpDuration[pumpId]
        });
        this.$toast.success(`Pump ${pumpId === 0 ? 'UP' : 'DOWN'} started`);
      } catch (error) {
        this.$toast.error('Failed to start pump');
      }
    },
    
    async calibratePump(pumpId) {
      try {
        await this.$axios.post(`/api/nodes/${this.node.node_id}/pump/calibrate`, {
          pump_id: pumpId,
          duration_sec: this.calibrationDuration[pumpId],
          volume_ml: this.calibrationVolume[pumpId]
        });
        this.$toast.success(`Pump ${pumpId} calibrated`);
        
        // –ó–∞–ø—Ä–æ—Å–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
        this.requestConfig();
      } catch (error) {
        this.$toast.error('Failed to calibrate pump');
      }
    },
    
    async requestConfig() {
      try {
        await this.$axios.get(`/api/nodes/${this.node.node_id}/config/request`);
        this.$toast.info('Config requested from node');
      } catch (error) {
        this.$toast.error('Failed to request config');
      }
    }
  }
}
</script>
```

#### –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `EcNode.vue`:
–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è EC –Ω–æ–¥—ã —Å 3 –Ω–∞—Å–æ—Å–∞–º–∏ (A, B, C).

---

## üîÑ –¶–ï–ü–û–ß–ö–ê –î–ê–ù–ù–´–• (–ü–æ–ª–Ω–∞—è)

### **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –Ω–∞—Å–æ—Å–∞:**
```
1. Frontend: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "Run 5 sec"
2. Frontend: POST /api/nodes/ph_001/pump/run {pump_id: 0, duration_sec: 5.0}
3. Backend: NodeController@runPump
4. Backend: –ü—É–±–ª–∏–∫—É–µ—Ç –≤ MQTT hydro/command/ph_001
5. ROOT: –ü–æ–ª—É—á–∞–µ—Ç –∏–∑ MQTT ‚Üí –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –≤ Mesh
6. NODE pH: ph_manager_handle_command("run_pump_manual")
7. NODE pH: pump_controller_run(PUMP_PH_UP, 5000ms)
8. NODE pH: –ù–∞—Å–æ—Å —Ä–∞–±–æ—Ç–∞–µ—Ç 5 —Å–µ–∫—É–Ω–¥
9. NODE pH: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç telemetry —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
10. Backend: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç telemetry ‚Üí WebSocket
11. Frontend: –û–±–Ω–æ–≤–ª—è–µ—Ç UI
```

### **–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–∞—Å–æ—Å–∞:**
```
1. Frontend: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–∞—Å–æ—Å –Ω–∞ 10 —Å–µ–∫
2. Frontend: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑–º–µ—Ä—è–µ—Ç –æ–±—ä–µ–º = 12.5 –º–ª
3. Frontend: POST /api/nodes/ph_001/pump/calibrate 
   {pump_id: 0, duration_sec: 10.0, volume_ml: 12.5}
4. Backend: –ü—É–±–ª–∏–∫—É–µ—Ç –≤ MQTT hydro/command/ph_001
5. ROOT ‚Üí NODE pH
6. NODE pH: calibrate_pump
   - ml_per_second = 12.5 / 10 = 1.25
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ NVS
7. NODE pH: –õ–æ–≥–∏—Ä—É–µ—Ç "Pump 0 calibrated: 1.25 ml/sec"
8. Backend: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ pump_calibrations
9. Frontend: –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç "‚úÖ 1.25 ml/s"
```

### **–ó–∞–ø—Ä–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```
1. Frontend: –ö–Ω–æ–ø–∫–∞ "Refresh Config"
2. Frontend: GET /api/nodes/ph_001/config/request
3. Backend: MQTT hydro/command/ph_001 {command: "get_config"}
4. ROOT ‚Üí NODE pH
5. NODE pH: –°–æ–∑–¥–∞–µ—Ç JSON —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏–∑ NVS
6. NODE pH: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç config_response ‚Üí ROOT
7. ROOT: MQTT hydro/config_response/ph_001
8. Backend: MqttService::handleConfigResponse
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ Cache
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç pump_calibrations –≤ –ë–î
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç WebSocket event
9. Frontend: –ü–æ–ª—É—á–∞–µ—Ç —á–µ—Ä–µ–∑ WebSocket
10. Frontend: –û–±–Ω–æ–≤–ª—è–µ—Ç UI
```

---

## üìù –§–ê–ô–õ–´ –ò–ó–ú–ï–ù–ï–ù–´

### Firmware:
- ‚úÖ `common/node_config/node_config.h` - –¥–æ–±–∞–≤–ª–µ–Ω `pump_calibration_t`
- ‚úÖ `node_ph/main/app_main.c` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- ‚úÖ `node_ec/main/app_main.c` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- ‚úÖ `node_ph/components/ph_manager/ph_manager.c` - 3 –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ `node_ec/components/ec_manager/ec_manager.c` - 3 –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

### Backend: ‚è≥
- `database/migrations/2025_10_21_create_pump_calibrations_table.php`
- `app/Models/PumpCalibration.php`
- `app/Http/Controllers/NodeController.php`
- `app/Services/MqttService.php`
- `app/Events/NodeConfigUpdated.php`
- `routes/api.php`

### Frontend: ‚è≥
- `components/PhNode.vue`
- `components/EcNode.vue`
- `pages/nodes/_id.vue` (–æ–±–Ω–æ–≤–∏—Ç—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)

---

## üéØ –ò–¢–û–ì

### ‚úÖ –ì–û–¢–û–í–û (Firmware):
1. –°—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å pump_calibration
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. –ö–æ–º–∞–Ω–¥—ã run_pump_manual –¥–ª—è pH –∏ EC
4. –ö–æ–º–∞–Ω–¥—ã calibrate_pump –¥–ª—è pH –∏ EC
5. –ö–æ–º–∞–Ω–¥—ã get_config –¥–ª—è pH –∏ EC
6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ NVS
7. –û—Ç–ø—Ä–∞–≤–∫–∞ config_response

### ‚è≥ –û–°–¢–ê–õ–û–°–¨ (Backend + Frontend):
1. API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å–æ—Å–∞–º–∏
2. –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –¥–ª—è pump_calibrations
3. –û–±—Ä–∞–±–æ—Ç–∫–∞ config_response –≤ MqttService
4. UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã PhNode.vue –∏ EcNode.vue
5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### üìÖ –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å backend API –∏ frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

---

**–î–∞—Ç–∞:** 21 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** Firmware –≥–æ—Ç–æ–≤ ‚úÖ | Backend & Frontend –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ ‚è≥

