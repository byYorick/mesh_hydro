# üéâ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: –†–£–ß–ù–û–ï –£–ü–†–ê–í–õ–ï–ù–ò–ï –ù–ê–°–û–°–ê–ú–ò

## ‚úÖ –í–°–ï –ì–û–¢–û–í–û!

**–î–∞—Ç–∞:** 21 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

---

## üìã –ß–¢–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

### 1. **FIRMWARE (ESP32 - C/C++)** ‚úÖ

#### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `common/node_config/node_config.h` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `pump_calibration_t`
- `node_ph/main/app_main.c` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –¥–ª—è 2 –Ω–∞—Å–æ—Å–æ–≤
- `node_ec/main/app_main.c` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –¥–ª—è 3 –Ω–∞—Å–æ—Å–æ–≤
- `node_ph/components/ph_manager/ph_manager.c` - –¥–æ–±–∞–≤–ª–µ–Ω—ã 3 –∫–æ–º–∞–Ω–¥—ã
- `node_ec/components/ec_manager/ec_manager.c` - –¥–æ–±–∞–≤–ª–µ–Ω—ã 3 –∫–æ–º–∞–Ω–¥—ã

#### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
1. **`run_pump_manual`** - —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –Ω–∞—Å–æ—Å–∞ (0.1-30 —Å–µ–∫)
2. **`calibrate_pump`** - –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–∞—Å–æ—Å–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ NVS
3. **`get_config`** - –∑–∞–ø—Ä–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ NVS

---

### 2. **BACKEND (Laravel + PHP)** ‚úÖ

#### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã/–∏–∑–º–µ–Ω–µ–Ω—ã:
- `database/migrations/2025_10_21_000001_create_pump_calibrations_table.php` - –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
- `app/Models/PumpCalibration.php` - –º–æ–¥–µ–ª—å –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–æ–∫
- `app/Http/Controllers/NodeController.php` - –¥–æ–±–∞–≤–ª–µ–Ω—ã 4 –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–∞
- `app/Services/MqttService.php` - –¥–æ–±–∞–≤–ª–µ–Ω `handleConfigResponse()`
- `app/Events/NodeConfigUpdated.php` - WebSocket —Å–æ–±—ã—Ç–∏–µ
- `routes/api.php` - –¥–æ–±–∞–≤–ª–µ–Ω—ã 4 –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–∞

#### API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:
```
POST   /api/nodes/{nodeId}/pump/run           - –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –Ω–∞—Å–æ—Å–∞
POST   /api/nodes/{nodeId}/pump/calibrate     - –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–∞—Å–æ—Å–∞
GET    /api/nodes/{nodeId}/pump/calibrations  - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–ª–∏–±—Ä–æ–≤–æ–∫
GET    /api/nodes/{nodeId}/config/request     - –ó–∞–ø—Ä–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ—Ç –Ω–æ–¥—ã
```

---

### 3. **FRONTEND (Vue.js)** ‚úÖ

#### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:
- `src/components/PhNode.vue` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è pH –Ω–æ–¥–æ–π
- `src/components/EcNode.vue` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è EC –Ω–æ–¥–æ–π

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª UI:
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π pH/EC
- ‚úÖ –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å–æ—Å–∞–º–∏ —Å –≤—ã–±–æ—Ä–æ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–∞—Å–æ—Å–æ–≤ (–∑–∞–ø—É—Å–∫ + –≤–≤–æ–¥ –æ–±—ä–µ–º–∞)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ (–º–ª/—Å–µ–∫)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ—Ç –Ω–æ–¥—ã
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ online/offline —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞–ª–∏–±—Ä–æ–≤–æ–∫ –∏–∑ API

---

## üöÄ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### **1. –ó–∞–ø—É—Å–∫ Backend**

```bash
cd server/backend

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
php artisan migrate

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
cd ../
docker-compose up -d
```

### **2. –ü—Ä–æ—à–∏–≤–∫–∞ –ù–æ–¥**

```bash
# pH –Ω–æ–¥–∞
cd node_ph
idf.py build flash monitor

# EC –Ω–æ–¥–∞
cd node_ec
idf.py build flash monitor
```

### **3. Frontend**

Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `PhNode.vue` –∏ `EcNode.vue` –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É–∑–ª–∞.

---

## üîÑ –ü–û–õ–ù–ê–Ø –¶–ï–ü–û–ß–ö–ê –î–ê–ù–ù–´–•

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –Ω–∞—Å–æ—Å–∞**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–æ–¥—ã pH –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç PhNode.vue –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–∞—Å–æ—Å "pH UP" –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å "5 —Å–µ–∫"
4. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "‚ñ∂ Run 5s"

5. Frontend:
   POST /api/nodes/ph_001/pump/run
   {pump_id: 0, duration_sec: 5.0}

6. Backend (NodeController@runPump):
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –Ω–æ–¥–∞ online
   - –ü—É–±–ª–∏–∫—É–µ—Ç –≤ MQTT: hydro/command/ph_001
   {type: "command", command: "run_pump_manual", params: {pump_id: 0, duration_sec: 5.0}}

7. ROOT —É–∑–µ–ª:
   - –ü–æ–ª—É—á–∞–µ—Ç –∏–∑ MQTT
   - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –≤ Mesh —Å–µ—Ç–∏ –∫ ph_001

8. pH –Ω–æ–¥–∞:
   - ph_manager_handle_command("run_pump_manual")
   - pump_controller_run(PUMP_PH_UP, 5000ms)
   - –ù–∞—Å–æ—Å —Ä–∞–±–æ—Ç–∞–µ—Ç 5 —Å–µ–∫—É–Ω–¥
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç telemetry —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π

9. Backend –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç telemetry ‚Üí WebSocket ‚Üí Frontend
10. Frontend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç toast "pH UP started for 5s"
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –Ω–∞—Å–æ—Å–∞**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç –Ω–∞—Å–æ—Å –≤—Ä—É—á–Ω—É—é –Ω–∞ 10 —Å–µ–∫
2. –ò–∑–º–µ—Ä—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º –º–µ—Ä–Ω—ã–º —Ü–∏–ª–∏–Ω–¥—Ä–æ–º: 12.5 –º–ª
3. –í–≤–æ–¥–∏—Ç –≤ —Ñ–æ—Ä–º—É –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏:
   - Duration: 10.0 —Å–µ–∫
   - Volume: 12.5 –º–ª
4. –ù–∞–∂–∏–º–∞–µ—Ç "üìè Calibrate"

5. Frontend:
   POST /api/nodes/ph_001/pump/calibrate
   {pump_id: 0, duration_sec: 10.0, volume_ml: 12.5}

6. Backend (NodeController@calibratePump):
   - –í—ã—á–∏—Å–ª—è–µ—Ç: ml_per_second = 12.5 / 10 = 1.25
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ pump_calibrations —Ç–∞–±–ª–∏—Ü—É
   - –ü—É–±–ª–∏–∫—É–µ—Ç –≤ MQTT: hydro/command/ph_001
   {type: "command", command: "calibrate_pump", params: {...}}

7. ROOT ‚Üí Mesh ‚Üí pH –Ω–æ–¥–∞

8. pH –Ω–æ–¥–∞:
   - –í—ã—á–∏—Å–ª—è–µ—Ç ml_per_second = 1.25
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ NVS
   - –õ–æ–≥–∏—Ä—É–µ—Ç: "Pump 0 calibrated: 1.25 ml/sec"

9. Frontend:
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç toast "pH UP calibrated: 1.25 ml/s"
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç "‚úÖ 1.25 ml/s" —Ä—è–¥–æ–º —Å –Ω–∞—Å–æ—Å–æ–º
```

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ó–∞–ø—Ä–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "üîÑ Refresh Config from Node"

2. Frontend:
   GET /api/nodes/ph_001/config/request

3. Backend:
   MQTT: hydro/command/ph_001
   {type: "command", command: "get_config", params: {}}

4. ROOT ‚Üí Mesh ‚Üí pH –Ω–æ–¥–∞

5. pH –Ω–æ–¥–∞ (ph_manager_handle_command):
   - –°–æ–∑–¥–∞–µ—Ç JSON —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏–∑ NVS
   - –í–∫–ª—é—á–∞–µ—Ç: ph –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –Ω–∞—Å–æ—Å–æ–≤, PID, safety
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: {type: "config_response", node_id: "ph_001", config: {...}}

6. ROOT ‚Üí MQTT: hydro/config_response/ph_001

7. Backend (MqttService@handleConfigResponse):
   - –ü–∞—Ä—Å–∏—Ç JSON
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ Cache (node_config:ph_001, 1 —á–∞—Å)
   - –û–±–Ω–æ–≤–ª—è–µ—Ç —É–∑–µ–ª –≤ –ë–î
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç pump_calibrations –≤ —Ç–∞–±–ª–∏—Ü—É
   - Broadcast: NodeConfigUpdated event

8. Frontend (WebSocket):
   - –ü–æ–ª—É—á–∞–µ—Ç event node.config.updated
   - –û–±–Ω–æ–≤–ª—è–µ—Ç UI
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∫–∞–ª–∏–±—Ä–æ–≤–∫—É –Ω–∞—Å–æ—Å–æ–≤
```

---

## üìä –ü–†–ò–ú–ï–† JSON –û–ë–ú–ï–ù–ê

### **–ö–æ–º–∞–Ω–¥–∞ run_pump_manual:**
```json
{
  "type": "command",
  "node_id": "ph_001",
  "command": "run_pump_manual",
  "params": {
    "pump_id": 0,
    "duration_sec": 5.0
  }
}
```

### **–ö–æ–º–∞–Ω–¥–∞ calibrate_pump:**
```json
{
  "type": "command",
  "node_id": "ph_001",
  "command": "calibrate_pump",
  "params": {
    "pump_id": 0,
    "duration_sec": 10.0,
    "volume_ml": 12.5
  }
}
```

### **–û—Ç–≤–µ—Ç config_response:**
```json
{
  "type": "config_response",
  "node_id": "ph_001",
  "config": {
    "node_id": "ph_001",
    "node_type": "ph",
    "zone": "Auto-discovered",
    "ph_target": 6.5,
    "ph_min": 5.5,
    "ph_max": 7.5,
    "pumps_calibration": [
      {
        "pump_id": 0,
        "ml_per_second": 1.25,
        "calibration_volume_ml": 12.5,
        "calibration_time_ms": 10000,
        "is_calibrated": true,
        "last_calibrated": 1729500000
      },
      {
        "pump_id": 1,
        "ml_per_second": 1.0,
        "calibration_volume_ml": 10.0,
        "calibration_time_ms": 10000,
        "is_calibrated": false,
        "last_calibrated": 0
      }
    ],
    "pumps_pid": [...]
  }
}
```

---

## üéØ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
```bash
# –í –ª–æ–≥–∞—Ö –Ω–æ–¥—ã –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
Default config initialized: ph_001
Pump calibration[0]: 1.00 ml/s (not calibrated)
Pump calibration[1]: 1.00 ml/s (not calibrated)
```

### **2. –¢–µ—Å—Ç —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞**
```bash
# Frontend: Run pump 5 sec
# –õ–æ–≥ –Ω–æ–¥—ã:
Manual pump run: PUMP_UP for 5.0 sec
Pump controller: Running pump 0 for 5000 ms
```

### **3. –¢–µ—Å—Ç –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏**
```bash
# Frontend: Calibrate (10 sec, 12.5 ml)
# –õ–æ–≥ –Ω–æ–¥—ã:
Pump 0 calibrated: 1.25 ml/sec (12.5 ml in 10.0 sec)
Config saved to NVS: ESP_OK

# Backend –ª–æ–≥:
Pump calibration saved and sent: ph_001, pump_id=0, ml_per_second=1.25
```

### **4. –¢–µ—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
```bash
# Frontend: Refresh Config
# –õ–æ–≥ –Ω–æ–¥—ã:
Command received: get_config
Config sent to ROOT (458 bytes)

# Backend –ª–æ–≥:
Config response received: ph_001
Pump calibrations saved: 2 pumps
Config response processed successfully
```

### **5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î**
```sql
SELECT * FROM pump_calibrations WHERE node_id = 'ph_001';

-- –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
-- | id | node_id | pump_id | ml_per_second | calibrated_at | is_calibrated |
-- | 1  | ph_001  | 0       | 1.25          | 2025-10-21... | 1             |
-- | 2  | ph_001  | 1       | 1.00          | NULL          | 0             |
```

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í

### **Firmware:**
```
common/node_config/
  ‚îî‚îÄ node_config.h               ‚úÖ +pump_calibration_t

node_ph/
  ‚îú‚îÄ main/app_main.c             ‚úÖ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
  ‚îî‚îÄ components/ph_manager/
     ‚îî‚îÄ ph_manager.c             ‚úÖ 3 –∫–æ–º–∞–Ω–¥—ã

node_ec/
  ‚îú‚îÄ main/app_main.c             ‚úÖ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
  ‚îî‚îÄ components/ec_manager/
     ‚îî‚îÄ ec_manager.c             ‚úÖ 3 –∫–æ–º–∞–Ω–¥—ã
```

### **Backend:**
```
server/backend/
  ‚îú‚îÄ database/migrations/
  ‚îÇ  ‚îî‚îÄ 2025_10_21_000001_create_pump_calibrations_table.php ‚úÖ
  ‚îú‚îÄ app/Models/
  ‚îÇ  ‚îî‚îÄ PumpCalibration.php                                   ‚úÖ
  ‚îú‚îÄ app/Http/Controllers/
  ‚îÇ  ‚îî‚îÄ NodeController.php                                    ‚úÖ +4 –º–µ—Ç–æ–¥–∞
  ‚îú‚îÄ app/Services/
  ‚îÇ  ‚îî‚îÄ MqttService.php                                       ‚úÖ +handleConfigResponse
  ‚îú‚îÄ app/Events/
  ‚îÇ  ‚îî‚îÄ NodeConfigUpdated.php                                 ‚úÖ
  ‚îî‚îÄ routes/
     ‚îî‚îÄ api.php                                               ‚úÖ +4 –º–∞—Ä—à—Ä—É—Ç–∞
```

### **Frontend:**
```
server/frontend/src/components/
  ‚îú‚îÄ PhNode.vue                   ‚úÖ
  ‚îî‚îÄ EcNode.vue                   ‚úÖ
```

---

## üéâ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| **Firmware** | ‚úÖ –ì–û–¢–û–í | pH (2 –Ω–∞—Å–æ—Å–∞), EC (3 –Ω–∞—Å–æ—Å–∞) |
| **Backend API** | ‚úÖ –ì–û–¢–û–í | 4 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ + –º–∏–≥—Ä–∞—Ü–∏—è |
| **Backend MQTT** | ‚úÖ –ì–û–¢–û–í | –û–±—Ä–∞–±–æ—Ç–∫–∞ config_response |
| **Backend –ë–î** | ‚úÖ –ì–û–¢–û–í | pump_calibrations —Ç–∞–±–ª–∏—Ü–∞ |
| **Frontend UI** | ‚úÖ –ì–û–¢–û–í | PhNode.vue + EcNode.vue |
| **WebSocket** | ‚úÖ –ì–û–¢–û–í | NodeConfigUpdated event |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | ‚úÖ –ì–û–¢–û–í | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é:**
   ```bash
   cd server/backend
   php artisan migrate
   ```

2. **–ü—Ä–æ—à–∏—Ç—å –Ω–æ–¥—ã:**
   ```bash
   # node_ph
   cd node_ph && idf.py build flash
   
   # node_ec
   cd node_ec && idf.py build flash
   ```

3. **–û—Ç–∫—Ä—ã—Ç—å Frontend:**
   ```
   http://localhost:3000/nodes/ph_001
   ```

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
   - –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –Ω–∞—Å–æ—Å–æ–≤
   - –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞
   - –ó–∞–ø—Ä–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## üìù –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –§–ê–ô–õ–´

- `–†–£–ß–ù–û–ï_–£–ü–†–ê–í–õ–ï–ù–ò–ï_–ù–ê–°–û–°–ê–ú–ò.md` - –∫—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞
- `–ò–¢–û–ì_–†–£–ß–ù–û–ï_–£–ü–†–ê–í–õ–ï–ù–ò–ï_21_10_2025.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

---

**–í–°–Å –ì–û–¢–û–í–û! –ú–û–ñ–ù–û –¢–ï–°–¢–ò–†–û–í–ê–¢–¨!** ‚úÖüéâ

**–ê–≤—Ç–æ—Ä:** AI Assistant (Claude Sonnet 4.5)  
**–î–∞—Ç–∞:** 21 –æ–∫—Ç—è–±—Ä—è 2025

