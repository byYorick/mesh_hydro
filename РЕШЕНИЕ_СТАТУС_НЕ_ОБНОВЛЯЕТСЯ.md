# üîß –†–ï–®–ï–ù–ò–ï: –°—Ç–∞—Ç—É—Å —É–∑–ª–∞ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ dashboard

**–ü—Ä–æ–±–ª–µ–º–∞:** –£–∑–µ–ª –æ—Ç–∫–ª—é—á–µ–Ω, –Ω–æ –Ω–∞ dashboard –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ online  
**–ü—Ä–∏—á–∏–Ω–∞:** Frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ  
**–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

---

## ‚úÖ –ë–´–°–¢–†–û–ï –†–ï–®–ï–ù–ò–ï

### –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –±—Ä–∞—É–∑–µ—Ä–∞:

**–ù–∞–∂–º–∏:** `Ctrl + Shift + R` (hard refresh)

–≠—Ç–æ –æ—á–∏—Å—Ç–∏—Ç –∫—ç—à –∏ –∑–∞–≥—Ä—É–∑–∏—Ç —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ.

---

## üîç –ü–†–û–í–ï–†–ö–ê

–Ø –ø—Ä–æ–≤–µ—Ä–∏–ª —á–µ—Ä–µ–∑ API - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```json
{
  "node_id": "ph_ec_3cfd01",
  "online": false,  ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (offline)
  "last_seen_at": "2025-10-20T17:02:57.000000Z"
}
```

**–£–∑–µ–ª –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –±—ã–ª –∞–∫—Ç–∏–≤–µ–Ω –≤ 17:02.**  
**–°–µ–π—á–∞—Å 18:44+ = –ø—Ä–æ—à–ª–æ –±–æ–ª—å—à–µ 40 —Å–µ–∫—É–Ω–¥.**  
**–ü–æ—ç—Ç–æ–º—É API –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: online = false** ‚úÖ

---

## üí° –ü–û–ß–ï–ú–£ –¢–ê–ö –ü–†–û–ò–°–•–û–î–ò–¢?

### Fallback Polling —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥:

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
setInterval(() => {
  api.getNodes()     // –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤
  api.getEvents()    // –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è
}, 5000)
```

**–ù–û** –∏–Ω–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –∫—ç—à–∏—Ä—É–µ—Ç —Å—Ç–∞—Ä—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

---

## üéØ –ß–¢–û –î–ï–õ–ê–¢–¨?

### 1. –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

```
Ctrl + Shift + R  (Windows/Linux)
Cmd + Shift + R   (Mac)
```

### 2. –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ - –æ—á–∏—Å—Ç–∏ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞:

**Chrome/Edge:**
1. F12 ‚Üí Network tab
2. ‚úÖ Disable cache
3. –û–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É

### 3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ fallback polling —Ä–∞–±–æ—Ç–∞–µ—Ç:

**–û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å (F12):**

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥:
```
üì° Fallback telemetry: (2) [{‚Ä¶}, {‚Ä¶}]
üîî Fallback event: (3) [{‚Ä¶}, {‚Ä¶}, {‚Ä¶}]
```

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å —ç—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Üí fallback polling —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ß–ï–†–ï–ó API

–ú–æ–∂–µ—à—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ API:

```bash
curl http://localhost:8000/api/nodes
```

–ò–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –æ—Ç–∫—Ä–æ–π:
```
http://localhost:8000/api/nodes
```

**–î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:**
```json
{
  "node_id": "ph_ec_3cfd01",
  "online": false  ‚úÖ
}
```

---

## üîÑ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞:

```
T=0s:     –£–∑–µ–ª –æ—Ç–ø—Ä–∞–≤–∏–ª –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ
          Backend: last_seen_at = now()
          
T=40s:    –ü—Ä–æ—à–ª–æ 40 —Å–µ–∫—É–Ω–¥
          Backend: isOnline() = false
          Scheduled task –æ–±–Ω–æ–≤–ª—è–µ—Ç: online = false
          
T=40-45s: Frontend –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π fallback polling –∑–∞–ø—Ä–æ—Å
          –ü–æ–ª—É—á–∞–µ—Ç: online = false
          –û–±–Ω–æ–≤–ª—è–µ—Ç UI ‚Üí —É–∑–µ–ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è offline
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 40-45 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è.**

---

## üêõ –ï–°–õ–ò –ü–†–û–ë–õ–ï–ú–ê –û–°–¢–ê–ï–¢–°–Ø

### –ü—Ä–æ–≤–µ—Ä—å scheduled task:

```bash
docker exec hydro_backend php artisan nodes:check-status
```

**–î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:**
```
‚úÖ root_98a316f5fde8 - ONLINE
‚ùå ph_ec_3cfd01 - OFFLINE
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —É–∑–ª–æ–≤.

---

## üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° (–ü–†–û–í–ï–†–ï–ù–û)

| Node ID | Last Seen | Status | –ü—Ä–∞–≤–∏–ª—å–Ω–æ? |
|---------|-----------|--------|------------|
| ph_ec_3cfd01 | 17:02:57 | offline | ‚úÖ –î–ê |
| root_98a316f5fde8 | 18:44:31 | online | ‚úÖ –î–ê |

**Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!**  
**–ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–∏—Ç—å frontend ‚Üí Ctrl+Shift+R** ‚úÖ

---

## üéØ –ò–¢–û–ì

1. ‚úÖ Backend –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ
2. ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
3. ‚úÖ Scheduled task —Ä–∞–±–æ—Ç–∞–µ—Ç
4. ‚úÖ –¢–∞–π–º–∞—É—Ç 40 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω

**–ü—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –±—Ä–∞—É–∑–µ—Ä–∞: Ctrl+Shift+R** üîÑ

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 20.10.2025 22:10

