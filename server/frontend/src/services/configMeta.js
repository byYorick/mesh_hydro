// Метаданные описаний для настроек, PID и безопасностей
export const pidMeta = {
  ph: {
    kp: 'Пропорциональная составляющая PID для pH. Увеличивает силу дозирования пропорционально ошибке (разнице между текущим и целевым pH). Слишком большое значение вызывает перерегулирование. Типично: 0.2–0.5 для гидропоники.',
    ki: 'Интегральная составляющая PID для pH. Нивелирует постоянную ошибку (смещение). Слишком большое значение приводит к накоплению и перерегулированию (windup). Используйте анти-windup и ограничивайте интегратор. Типично: 0.01–0.05.',
    kd: 'Дифференциальная составляющая PID для pH. Реагирует на скорость изменения pH и помогает гасить колебания. Чувствительна к шуму датчика. Для гидропоники обычно = 0 (медленные процессы). Если используете: 0.01–0.1.',
    setpoint: 'Целевое значение pH раствора. Рекомендуемые диапазоны: 5.5–6.0 для салата, 5.8–6.2 для томатов, 6.0–6.5 для зелени. Влияет на доступность питательных веществ.',
    deadband: 'Ширина зоны нечувствительности (гистерезис) вокруг целевого pH. В этой зоне дозирование не выполняется, чтобы избежать дрожания. Типично: ±0.05–0.1 pH единиц.',
    doseMinInterval: 'Минимальный интервал между дозами (сек). Предотвращает накопление доз до полного перемешивания раствора. Рекомендуется: 60–120 сек для pH.',
    mixDelay: 'Задержка для перемешивания (сек) после дозы перед повторной оценкой pH. Раствор должен полностью перемешаться. Типично: 30–60 сек.',
    integralMax: 'Максимальное значение интегратора (anti-windup). Ограничивает накопление I-компонента, предотвращает огромный overshoot. Типично: 5–10.',
    integralMin: 'Минимальное значение интегратора (anti-windup). Обычно = -integralMax для симметрии.',
    outputMax: 'Максимальный выход PID (мл за одну дозу). Ограничивает размер единичной дозы для безопасности. Типично: 2–10 мл в зависимости от объёма.',
    outputMin: 'Минимальный выход PID. Обычно = -outputMax. Отрицательные значения = pH Up, положительные = pH Down.',
    filterAlpha: 'Коэффициент экспоненциального сглаживания показаний датчика (0.0–1.0). Меньше значение = сильнее фильтрация шума. 0.2–0.3 для pH. 1.0 = без фильтрации.',
    enabled: 'Включить/выключить автоматический PID контроль pH. При выключении можно управлять вручную через команды.',
  },
  ec: {
    kp: 'Пропорциональная составляющая PID для EC. Увеличивает скорость подачи концентрата пропорционально ошибке EC. Подбирайте осторожно. Типично: 0.1–0.3 (меньше чем для pH).',
    ki: 'Интегральная составляющая для EC. Исправляет постоянную ошибку, но может вызывать перерегулирование при слишком больших значениях. Типично: 0.005–0.02 (меньше чем для pH).',
    kd: 'Дифференциальная составляющая для EC. Подавляет колебания, но усиливает влияние шумов. Для EC обычно = 0 (очень медленный процесс, 2–5 мин на реакцию).',
    setpoint: 'Целевой EC (мСм/см). Зависит от стадии роста и культуры. Примеры: рассада 0.8–1.2, салат 1.2–1.8, томаты вегетация 2.0–2.5, томаты плодоношение 2.5–3.5.',
    deadband: 'Гистерезис для EC. В пределах этой зоны дозирование не выполняется. Типично: ±0.05–0.1 mS/cm.',
    doseMinInterval: 'Минимальный интервал между дозами удобрений (сек). EC изменяется медленнее pH, нужны бОльшие интервалы. Типично: 120–300 сек.',
    mixDelay: 'Задержка на перемешивание (сек) после дозы перед следующим измерением EC. Концентрат должен полностью диффундировать. Типично: 45–90 сек.',
    integralMax: 'Максимальное значение интегратора для EC (anti-windup). Предотвращает накопление при насыщении. Типично: 3–8.',
    integralMin: 'Минимальное значение интегратора для EC. Обычно = -integralMax.',
    outputMax: 'Максимальный выход PID для EC (мл концентрата за одну дозу). Ограничивает размер дозы. Типично: 5–20 мл в зависимости от объёма.',
    outputMin: 'Минимальный выход PID для EC. Обычно = 0 (EC только повышается, не понижается). Для понижения EC доливают чистую воду.',
    filterAlpha: 'Коэффициент сглаживания EC показаний (0.0–1.0). EC стабильнее pH, можно использовать меньшую фильтрацию. 0.3–0.5 типично.',
    enabled: 'Включить/выключить автоматический PID контроль EC. При выключении добавляйте удобрения вручную.',
    componentABDelay: 'Задержка между подачей компонента A и B (сек). Критично! Ca из A + PO₄ из B образуют осадок при смешивании концентратов. Минимум 30 сек с циркуляцией.',
  },
}

export const safetyMeta = {
  dosing: {
    maxDailyPhDown: 'Максимальный суммарный объём кислоты в сутки (мл/сутки) во избежание передозировки.',
    maxDailyPhUp: 'Максимальный суммарный объём щёлочи в сутки (мл/сутки).',
    maxDailyNutrients: 'Максимальный суммарный объём концентрата A/B в сутки (мл/сутки).',
    minWaterLevel: 'Минимальный уровень воды, ниже которого дозирование блокируется (мм/проценты/литры, в зависимости от датчика).',
    tempLockout: 'Блокировка дозирования при температуре раствора вне допустимого диапазона (например, <10°C или >30°C).',
  },
  sensors: {
    phCalibrationDueDays: 'Периодичность калибровки pH-датчика (дни). После истечения требуется калибровка.',
    ecCalibrationDueDays: 'Периодичность калибровки EC-датчика (дни).',
    tempCompensation: 'Включение температурной компенсации для EC. Рекомендуется включить.',
  },
}

export const systemMeta = {
  nodeOfflineTimeout: 'Сколько секунд без heartbeats считается, что узел offline.',
  telemetryRetentionDays: 'Срок хранения сырой телеметрии (дни). Рекомендуется включить агрегацию и очистку.',
  eventAutoResolveHours: 'Через сколько часов автоматически закрывать не критичные события.',
  emergencyNoAutoResolve: 'Не закрывать автоматически события уровня emergency.',
}


