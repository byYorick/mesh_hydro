# üîß –û—Ç—á–µ—Ç: –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —É–∑–ª–æ–≤ –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

### **–ü—Ä–æ–±–ª–µ–º–∞:**
- –û—à–∏–±–∫–∞ JavaScript: `TypeError: Cannot read properties of undefined (reading 'includes')`
- –£–∑–ª—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ –∏–∑-–∑–∞ —ç—Ç–æ–π –æ—à–∏–±–∫–∏

### **–ü—Ä–∏—á–∏–Ω–∞:**
- –£ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —É–∑–ª–æ–≤ `metadata.sensors` –∏ `metadata.capabilities` –±—ã–ª–∏ —Ä–∞–≤–Ω—ã `undefined`
- –í –∫–æ–¥–µ –≤—ã–∑—ã–≤–∞–ª—Å—è –º–µ—Ç–æ–¥ `.includes()` –Ω–∞ —ç—Ç–∏—Ö undefined –∑–Ω–∞—á–µ–Ω–∏—è—Ö

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

#### 1. **NodeMetadataCard.vue** - –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è metadata
```typescript
const metadata = computed(() => {
  const meta = props.node.metadata || {}
  
  // –ò—Å–ø—Ä–∞–≤–ª—è–µ–º undefined sensors –∏ capabilities
  if (!Array.isArray(meta.sensors)) {
    meta.sensors = []
  }
  if (!Array.isArray(meta.capabilities)) {
    meta.capabilities = []
  }
  
  return meta
})
```

#### 2. **NodeMetadataCard.vue** - –£–ª—É—á—à–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –≤ additionalMetadata
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–∞—Å—Å–∏–≤ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º `.includes()`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `fieldsArray` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–æ–º

### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –û—à–∏–±–∫–∞ JavaScript –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ –£–∑–ª—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç undefined –∑–Ω–∞—á–µ–Ω–∏–π –≤ metadata

## üìã –ò—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### ‚ùå **–ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ:**
- **–£–∑–ª—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è** –≤ —Å–µ–∫—Ü–∏–∏ "–£–∑–ª—ã —Å–∏—Å—Ç–µ–º—ã"
- **–û—à–∏–±–∫–∏ JavaScript** –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥:
  - `TypeError: Cannot read properties of undefined (reading 'includes')`
  - –ü–æ–≤—Ç–æ—Ä—è–ª–∞—Å—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö —É–∑–ª–æ–≤:**
```javascript
// Store —Å–æ–¥–µ—Ä–∂–∏—Ç 3 —É–∑–ª–∞:
[
  {
    "node_id": "climate_001",
    "online": false,
    "metadata": {
      "sensors": undefined,  // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
      "capabilities": undefined  // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
    }
  },
  {
    "node_id": "root_98a316f5fde8", 
    "online": false,
    "metadata": {
      "sensors": [],  // ‚úÖ OK
      "capabilities": ["mesh_coordinator", "mqtt_bridge", "data_router"]  // ‚úÖ OK
    }
  },
  {
    "node_id": "ph_ec_3cfd01",
    "online": false,
    "metadata": {
      "sensors": undefined,  // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
      "capabilities": undefined  // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
    }
  }
]
```

### **2. –ò—Å—Ç–æ—á–Ω–∏–∫ –æ—à–∏–±–∫–∏ `includes`:**
- –£ –¥–≤—É—Ö —É–∑–ª–æ–≤ (`climate_001` –∏ `ph_ec_3cfd01`) `sensors` –∏ `capabilities` —Ä–∞–≤–Ω—ã `undefined`
- –ì–¥–µ-—Ç–æ –≤ –∫–æ–¥–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `.includes()` –Ω–∞ —ç—Ç–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö
- –≠—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —É–∑–ª–æ–≤

### **3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–∂–µ –≤–Ω–µ—Å–µ–Ω—ã:**
- ‚úÖ **SkeletonCard –∏—Å–ø—Ä–∞–≤–ª–µ–Ω** - –¥–æ–±–∞–≤–ª–µ–Ω `import { computed } from 'vue'`
- ‚úÖ **NodeMetadataCard –∏—Å–ø—Ä–∞–≤–ª–µ–Ω** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `Array.isArray(metadata.sensors)`

## üîß –ü—Ä–æ–±–ª–µ–º–∞

### **–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
–û—à–∏–±–∫–∏ JavaScript –±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —É–∑–ª–æ–≤. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ:
- Store —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ
- API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

–£–∑–ª—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ –≤ –∫–æ–¥–µ.

### **–ò—Å—Ç–æ—á–Ω–∏–∫ –æ—à–∏–±–∫–∏:**
–ì–¥–µ-—Ç–æ –≤ –∫–æ–¥–µ –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–∞—Å—Å–∏–≤ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `.includes()`, –Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è `undefined` –≤–º–µ—Å—Ç–æ –º–∞—Å—Å–∏–≤–∞.

## üöÄ –†–µ—à–µ–Ω–∏–µ

### **–ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**
1. **–ù–∞–π—Ç–∏ –∫–æ–¥**, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç `.includes()` –Ω–∞ `undefined`
2. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏** –Ω–∞ `undefined` –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º `.includes()`
3. **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥** —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏

### **–í–æ–∑–º–æ–∂–Ω—ã–µ –º–µ—Å—Ç–∞:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å `metadata.sensors`
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å `metadata.capabilities`
- –§—É–Ω–∫—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏–ª–∏ –ø–æ–∏—Å–∫–∞

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –Ω–∞ 90%:**
- ‚úÖ **Backend —Ä–∞–±–æ—Ç–∞–µ—Ç** - API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ **Store —Ä–∞–±–æ—Ç–∞–µ—Ç** - –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã
- ‚ùå **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω** - –æ—à–∏–±–∫–∏ JavaScript

### **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ù–∞–π—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –æ—à–∏–±–∫–∏ `includes`
2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `undefined`
3. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–∑–ª–æ–≤

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ **–£–∑–ª—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è** –≤ —Å–µ–∫—Ü–∏–∏ "–£–∑–ª—ã —Å–∏—Å—Ç–µ–º—ã"
- ‚úÖ **–í—Å–µ 3 —É–∑–ª–∞ –≤–∏–¥–Ω—ã** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
- ‚úÖ **–°—Ç–∞—Ç—É—Å "–û—Ñ–ª–∞–π–Ω"** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–ù–µ—Ç –æ—à–∏–±–æ–∫ JavaScript**

**–°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–∞! üöÄ**
