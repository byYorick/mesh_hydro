# ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ node_ph

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:

1. **GPIO –Ω–∞—Å–æ—Å–æ–≤:** GPIO 12 (pH UP), GPIO 13 (pH DOWN)
2. **Mock pH –¥–∞—Ç—á–∏–∫:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ (pH 6.0-7.5)
3. **–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
4. **API –∫–æ–º–∞–Ω–¥—ã:** –ì–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (3 –º–∏–Ω—É—Ç—ã)

### 1. –ü—Ä–æ—à–µ–π—Ç–µ node_ph
```bash
cd node_ph
idf.py build flash monitor
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```
http://192.168.0.167:3000
```

### 3. –ù–∞–π–¥–∏—Ç–µ —É–∑–µ–ª pH
- –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ 10-20 —Å–µ–∫—É–Ω–¥
- –°—Ç–∞—Ç—É—Å: **Online** ‚úÖ

### 4. –¢–µ—Å—Ç LED (GPIO 12)
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ LED –∫ GPIO 12 (+ —Ä–µ–∑–∏—Å—Ç–æ—Ä 220Œ©)
2. –í —Å–µ–∫—Ü–∏–∏ "–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å–æ—Å–∞–º–∏"
3. –í–≤–µ–¥–∏—Ç–µ: **2** —Å–µ–∫—É–Ω–¥—ã
4. –ù–∞–∂–º–∏—Ç–µ **–ó–∞–ø—É—Å—Ç–∏—Ç—å** (–∑–µ–ª—ë–Ω–∞—è –∫–Ω–æ–ø–∫–∞)
5. **LED –∑–∞–≥–æ—Ä–∏—Ç—Å—è –Ω–∞ 2 —Å–µ–∫—É–Ω–¥—ã!** ‚úÖ

---

## üì° –ü—Ä—è–º–æ–π MQTT —Ç–µ—Å—Ç

```bash
# –ó–∞–ø—É—Å–∫ –Ω–∞—Å–æ—Å–∞ 0 –Ω–∞ 3 —Å–µ–∫—É–Ω–¥—ã
mosquitto_pub -h 192.168.0.167 -t "hydro/command/ph_f5fde8" -m '{
  "type": "command",
  "node_id": "ph_f5fde8",
  "command": "run_pump_manual",
  "params": {"pump_id": 0, "duration_sec": 3.0}
}'
```

**–ó–∞–º–µ–Ω–∏—Ç–µ `ph_f5fde8` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π node_id –∏–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞!**

---

## üîß –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –Ω–∞—Å–æ—Å–∞

```
ESP32 GPIO 12 ‚Üí –¢—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä/–†–µ–ª–µ ‚Üí –ù–∞—Å–æ—Å 12V
                     ‚Üì
                –ü–∏—Ç–∞–Ω–∏–µ 12V
```

**–í–ê–ñ–ù–û:** –ü–∏—Ç–∞–Ω–∏–µ –Ω–∞—Å–æ—Å–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–µ!

---

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º–æ—Ç—Ä–∏—Ç–µ: `node_ph/PUMP_MANUAL_CONTROL_TEST.md`

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ! üéâ**

