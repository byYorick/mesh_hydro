# ‚ö° MESH HYDRO V2 - –ö–†–ê–¢–ö–ê–Ø –°–í–û–î–ö–ê

**1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - –≤—Å—ë —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ!**

---

## üéØ –ß–¢–û –°–û–ó–î–ê–ï–ú

–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è mesh-—Å–∏—Å—Ç–µ–º–∞ –≥–∏–¥—Ä–æ–ø–æ–Ω–∏–∫–∏:
- **1√ó ROOT** (ESP32-S3) - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä
- **1√ó Display** (ESP32-S3) - TFT —ç–∫—Ä–∞–Ω
- **N√ó pH/EC** (ESP32-S3) - –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–µ —É–∑–ª—ã
- **N√ó Climate** (ESP32) - –¥–∞—Ç—á–∏–∫–∏
- **1√ó Relay** (ESP32) - —Ñ–æ—Ä—Ç–æ—á–∫–∏ + —Å–≤–µ—Ç
- **N√ó Water** (ESP32-C3) - –≤–æ–¥–∞
- **–°–µ—Ä–≤–µ—Ä** - Laravel + Vue.js + PostgreSQL

---

## üìä –í–ê–®–ò 3 ESP32-S3

| # | –£–∑–µ–ª | –ü–æ—á–µ–º—É S3 |
|---|------|-----------|
| #1 | ROOT | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ |
| #2 | Display | LVGL —Ç—Ä–µ–±—É–µ—Ç PSRAM |
| #3 | pH/EC #1 | –ê–≤—Ç–æ–Ω–æ–º–∏—è –∫—Ä–∏—Ç–∏—á–Ω–∞ |

**–î–æ–∫—É–ø–∏—Ç—å:** ~$35-50 (ESP32, ESP32-C3, –∞–∫—Ç—É–∞—Ç–æ—Ä—ã, OLED)

---

## üîë –ö–õ–Æ–ß–ï–í–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò

### NODE pH/EC - –ê–í–¢–û–ù–û–ú–ù–´–ô! ‚ö†Ô∏è
- –†–∞–±–æ—Ç–∞–µ—Ç –ë–ï–ó —Å–≤—è–∑–∏ —Å ROOT
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ NVS (–Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è)
- –õ–æ–∫–∞–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä 1000 –∑–∞–ø–∏—Å–µ–π
- OLED –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å
- LED + Buzzer –ø—Ä–∏ –∞–≤–∞—Ä–∏—è—Ö
- –ö–Ω–æ–ø–∫–∞ MODE (—Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

### ROOT - –¢–æ–ª—å–∫–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è
- Mesh –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä
- MQTT gateway
- –†–µ–µ—Å—Ç—Ä —É–∑–ª–æ–≤
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –†–µ–∑–µ—Ä–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–ª–∏–º–∞—Ç–∞

### Display - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- TFT 240x320 LVGL
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –í–°–ï —É–∑–ª—ã
- –≠–Ω–∫–æ–¥–µ—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –ú–∞—Ç–µ—Ä–∏–∞–ª —ç–∫—Ä–∞–Ω—ã

### Relay - –ö–ª–∏–º–∞—Ç (PWM —Å–≤–µ—Ç!)
- 2 —Ñ–æ—Ä—Ç–æ—á–∫–∏ (–ª–∏–Ω–µ–π–Ω—ã–µ –∞–∫—Ç—É–∞—Ç–æ—Ä—ã)
- –í–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä
- **PWM –¥–∏–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–µ—Ç–∞ 0-100%**

---

## üåê –ü–û–¢–û–ö–ò –î–ê–ù–ù–´–•

### –¢–µ–ª–µ–º–µ—Ç—Ä–∏—è:
```
NODE ‚Üí mesh ‚Üí ROOT ‚Üí MQTT ‚Üí Server ‚Üí PostgreSQL
                          ‚Üì
                      WebSocket ‚Üí Vue.js (real-time!)
```

### –ö–æ–º–∞–Ω–¥–∞:
```
Vue.js ‚Üí HTTP API ‚Üí Laravel ‚Üí MQTT ‚Üí ROOT ‚Üí mesh ‚Üí NODE
```

### –ê–≤—Ç–æ–Ω–æ–º–∏—è (NODE pH/EC):
```
ROOT offline > 30 —Å–µ–∫ ‚Üí NODE –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ AUTONOMOUS
                      ‚Üí –ó–∞–≥—Ä—É–∂–∞–µ—Ç NVS
                      ‚Üí PID –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É
                      ‚Üí –ë—É—Ñ–µ—Ä–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ
                      
ROOT –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±—É—Ñ–µ—Ä–∞
```

---

## üì° –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø

| –¢–∏–ø | Telegram | SMS | WebSocket |
|-----|----------|-----|-----------|
| Info | ‚úÖ | ‚ùå | ‚úÖ |
| Warning | ‚úÖ | ‚ùå | ‚úÖ |
| Critical | ‚úÖ | ‚úÖ | ‚úÖ |
| Emergency | ‚úÖ | ‚úÖ | ‚úÖ |

**SMS —Ç–æ–ª—å–∫–æ:** pH < 5.0, pH > 8.0, EC > 3.0, node offline > 5 –º–∏–Ω

---

## ‚è±Ô∏è –û–¶–ï–ù–ö–ê –í–†–ï–ú–ï–ù–ò

| –ß—Ç–æ | –î–Ω–∏ |
|-----|-----|
| **MVP** (ROOT + Server + pH/EC) | 16 –¥–Ω–µ–π |
| **–ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** (–≤—Å–µ —É–∑–ª—ã) | 30-35 –¥–Ω–µ–π |
| **–° –¥–æ–ø. —Ñ—É–Ω–∫—Ü–∏—è–º–∏** (OTA, Telegram, SMS) | 40-45 –¥–Ω–µ–π |

---

## üöÄ –°–¢–ê–†–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –®–∞–≥ 1: –ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã
1. MESH_HYDRO_V2_FINAL_PLAN.md (–ø–æ–ª–Ω—ã–π –ø–ª–∞–Ω)
2. MESH_AI_QUICK_START.md (–ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI)

### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é mesh
1. common/mesh_manager
2. common/mesh_protocol
3. common/node_config
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ROOT + NODE

### –®–∞–≥ 3: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —É–∑–ª—ã
1. ROOT —É–∑–µ–ª (mesh + MQTT)
2. –°–µ—Ä–≤–µ—Ä (Laravel + –ë–î)
3. **NODE pH/EC (–ö–†–ò–¢–ò–ß–ù–û!)**

---

## üìû –ë–´–°–¢–†–ê–Ø –°–ü–†–ê–í–ö–ê

### –ö–æ–º–∞–Ω–¥—ã –ø—Ä–æ—à–∏–≤–∫–∏:
```batch
cd root_node
idf.py build
idf.py -p COM3 flash monitor
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:
```bash
php artisan mqtt:listen &
npm run dev
```

### MQTT —Ç–æ–ø–∏–∫–∏:
```
hydro/telemetry/{node_id}   # NODE ‚Üí Server
hydro/command/{node_id}     # Server ‚Üí NODE
```

### GPIO pH/EC —É–∑–ª–∞:
```
I2C: 17, 18
–ù–∞—Å–æ—Å—ã: 1, 2, 3, 4, 5
LED: 15, Buzzer: 16, Button: 19
```

---

## ‚úÖ –ü–õ–ê–ù –ì–û–¢–û–í!

**6 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:**
1. ‚úÖ MESH_HYDRO_V2_FINAL_PLAN.md
2. ‚úÖ MESH_ARCHITECTURE_PLAN.md
3. ‚úÖ MESH_PINOUT_ALL_NODES.md
4. ‚úÖ MESH_IMPLEMENTATION_PRIORITY.md
5. ‚úÖ MESH_AI_QUICK_START.md
6. ‚úÖ MESH_PROJECT_INDEX.md
7. ‚úÖ MESH_QUICK_SUMMARY.md (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:** c:\Users\admin\2\mesh_hydro_v2\ (—Å–æ–∑–¥–∞–Ω–∞)

---

**–ì–û–¢–û–í–û –ö –†–ï–ê–õ–ò–ó–ê–¶–ò–ò!** üöÄ

**–ù–∞—á–Ω–∏ —Å:** MESH_HYDRO_V2_FINAL_PLAN.md ‚Üí mesh_manager ‚Üí ROOT ‚Üí pH/EC

