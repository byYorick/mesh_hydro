# üìë –ò–ù–î–ï–ö–° –î–û–ö–£–ú–ï–ù–¢–û–í MESH HYDRO V2

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 17 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω –≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

## üéØ –î–õ–Ø –ö–û–ì–û –≠–¢–û–¢ –ü–†–û–ï–ö–¢

**–¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç (hydro1.0):**
- –ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–≤—Å–µ –Ω–∞ –æ–¥–Ω–æ–º ESP32-S3)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ **–ü–†–ò–ú–ï–†** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ù–ï –ò–ó–ú–ï–ù–Ø–ï–¢–°–Ø!**

**–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç (mesh_hydro_v2):**
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è mesh-—Å–∏—Å—Ç–µ–º–∞
- –°–æ–∑–¥–∞–µ—Ç—Å—è **–° –ù–£–õ–Ø**
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ hydro1.0

---

## üìö –î–û–ö–£–ú–ï–ù–¢–´ –ü–õ–ê–ù–ê (–í –ü–û–†–Ø–î–ö–ï –ß–¢–ï–ù–ò–Ø)

### 1. –ì–ª–∞–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (–ù–ê–ß–ù–ò –ó–î–ï–°–¨!)

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –î–ª—è –∫–æ–≥–æ |
|------|------------|----------|
| **MESH_HYDRO_V2_FINAL_PLAN.md** ‚≠ê | –ü–æ–ª–Ω—ã–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞ | –ì–ª–∞–≤–Ω—ã–π AI, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ |
| **MESH_ARCHITECTURE_PLAN.md** | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ç–æ–ø–æ–ª–æ–≥–∏—è —Å–∏—Å—Ç–µ–º—ã | –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—ã, AI |
| **MESH_AI_QUICK_START.md** | –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è AI (–ø—Ä–∞–≤–∏–ª–∞, –ø—Ä–∏–º–µ—Ä—ã) | AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ã |
| **MESH_IMPLEMENTATION_PRIORITY.md** | –í –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å | –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –ø—Ä–æ–µ–∫—Ç–æ–≤, AI |

### 2. –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|------|------------|---------------|
| **MESH_PINOUT_ALL_NODES.md** | GPIO —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —É–∑–ª–æ–≤ | –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —É–∑–ª–æ–≤ |
| **MESH_PROJECT_INDEX.md** | –≠—Ç–æ—Ç —Ñ–∞–π–ª - –Ω–∞–≤–∏–≥–∞—Ü–∏—è | –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º |

### 3. –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç hydro1.0 (–¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤)

| –§–∞–π–ª | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|------|---------------|
| –ò–ù–°–¢–†–£–ö–¶–ò–Ø_–î–õ–Ø_–ò–ò.md | –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏/–ø—Ä–æ—à–∏–≤–∫–∏ ESP-IDF |
| –ê–†–•–ò–¢–ï–ö–¢–£–†–ê_–ü–†–û–ï–ö–¢–ê_–î–ï–¢–ê–õ–¨–ù–û.md | –ü—Ä–∏–º–µ—Ä—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ |
| components/sensor_manager/ | –ü—Ä–∏–º–µ—Ä –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –¥–∞—Ç—á–∏–∫–æ–≤ ‚úÖ |
| components/pump_manager/ | –ü—Ä–∏–º–µ—Ä –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –Ω–∞—Å–æ—Å–æ–≤ ‚úÖ |
| components/adaptive_pid/ | –ì–æ—Ç–æ–≤—ã–π AI PID –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä ‚úÖ |
| components/lvgl_ui/ | –ì–æ—Ç–æ–≤—ã–π LVGL –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚úÖ |
| components/lcd_ili9341/ | –î—Ä–∞–π–≤–µ—Ä –¥–∏—Å–ø–ª–µ—è ‚úÖ |
| components/encoder/ | –î—Ä–∞–π–≤–µ—Ä —ç–Ω–∫–æ–¥–µ—Ä–∞ ‚úÖ |

---

## üóÇÔ∏è –°–¢–†–£–ö–¢–£–†–ê –ù–û–í–û–ì–û –ü–†–û–ï–ö–¢–ê

```
c:\Users\admin\2\mesh_hydro_v2\     ‚Üê –ù–û–í–´–ô –ø—Ä–æ–µ–∫—Ç (—Å–æ–∑–¥–∞–µ—Ç—Å—è)
‚îÇ
‚îú‚îÄ‚îÄ common/                          ‚Üê –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ mesh_manager/
‚îÇ   ‚îú‚îÄ‚îÄ mesh_protocol/
‚îÇ   ‚îú‚îÄ‚îÄ node_config/
‚îÇ   ‚îú‚îÄ‚îÄ sensor_base/
‚îÇ   ‚îú‚îÄ‚îÄ actuator_base/
‚îÇ   ‚îî‚îÄ‚îÄ ota_manager/
‚îÇ
‚îú‚îÄ‚îÄ root_node/                       ‚Üê ROOT ESP32-S3 #1
‚îú‚îÄ‚îÄ node_display/                    ‚Üê Display ESP32-S3 #2
‚îú‚îÄ‚îÄ node_ph_ec/                      ‚Üê pH/EC ESP32-S3 #3
‚îú‚îÄ‚îÄ node_climate/                    ‚Üê Climate ESP32
‚îú‚îÄ‚îÄ node_relay/                      ‚Üê Relay ESP32
‚îú‚îÄ‚îÄ node_water/                      ‚Üê Water ESP32-C3
‚îú‚îÄ‚îÄ node_template/                   ‚Üê –®–∞–±–ª–æ–Ω
‚îÇ
‚îú‚îÄ‚îÄ server/                          ‚Üê Laravel + Vue.js
‚îÇ   ‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îî‚îÄ‚îÄ frontend/
‚îÇ
‚îú‚îÄ‚îÄ docs/                            ‚Üê –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—Å–æ–∑–¥–∞–µ—Ç—Å—è)
‚îî‚îÄ‚îÄ tools/                           ‚Üê –£—Ç–∏–ª–∏—Ç—ã
```

---

## üéØ –†–ê–°–ü–†–ï–î–ï–õ–ï–ù–ò–ï ESP32-S3 (3 –®–¢–£–ö–ò)

| # | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü–æ—á–µ–º—É S3 | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|---|------------|-----------|------------|
| **#1** | ROOT | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä–∞ | Mesh + MQTT + Registry |
| **#2** | Display | LVGL —Ç—Ä–µ–±—É–µ—Ç PSRAM 8MB | TFT —ç–∫—Ä–∞–Ω + —ç–Ω–∫–æ–¥–µ—Ä |
| **#3** | pH/EC #1 | –ê–≤—Ç–æ–Ω–æ–º–∏—è + PID | –ö—Ä–∏—Ç–∏—á–Ω—ã–π —É–∑–µ–ª! |

---

## üìã –ö–õ–Æ–ß–ï–í–´–ï –†–ï–®–ï–ù–ò–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–´

### 1. ROOT –ë–ï–ó –¥–∏—Å–ø–ª–µ—è ‚úÖ
**–ü–æ—á–µ–º—É:** –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å + –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

### 2. NODE pH/EC –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π ‚ö†Ô∏è
**–ü–æ—á–µ–º—É:** –†–∞—Å—Ç–µ–Ω–∏—è –ø–æ–≥–∏–±–Ω—É—Ç –µ—Å–ª–∏ pH —Å–±–æ–∏—Ç –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–≤—è–∑–∏

### 3. –õ–æ–≥–∏–∫–∞ –∫–ª–∏–º–∞—Ç–∞ –Ω–∞ ROOT ‚úÖ
**–ü–æ—á–µ–º—É:** –ï—Å–ª–∏ Climate node offline, ROOT –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### 4. NVS –Ω–∞ –∫–∞–∂–¥–æ–º —É–∑–ª–µ ‚úÖ
**–ü–æ—á–µ–º—É:** –ö–∞–∂–¥—ã–π —É–∑–µ–ª –Ω–µ–∑–∞–≤–∏—Å–∏–º, —Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 5. OLED –Ω–∞ pH/EC —É–∑–ª–∞—Ö ‚úÖ
**–ü–æ—á–µ–º—É:** –õ–æ–∫–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–∏ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç–µ

### 6. PWM —Å–≤–µ—Ç ‚úÖ
**–ü–æ—á–µ–º—É:** –ü–ª–∞–≤–Ω–∞—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ —è—Ä–∫–æ—Å—Ç–∏ 0-100%

### 7. –õ–∏–Ω–µ–π–Ω—ã–µ –∞–∫—Ç—É–∞—Ç–æ—Ä—ã (–Ω–µ —Å–µ—Ä–≤–æ) ‚úÖ
**–ü–æ—á–µ–º—É:** –ü—Ä–æ—â–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (—Ä–µ–ª–µ –≤–∫–ª/–≤—ã–∫–ª)

### 8. SMS —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ ‚úÖ
**–ü–æ—á–µ–º—É:** –î–æ—Ä–æ–≥–æ, –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤–∞—Ä–∏–π

### 9. PostgreSQL –≤—Å—è –∏—Å—Ç–æ—Ä–∏—è ‚úÖ
**–ü–æ—á–µ–º—É:** –î–∏—Å–∫ –¥–µ—à–µ–≤—ã–π, –∞–Ω–∞–ª–∏–∑ –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤ –≤–∞–∂–µ–Ω

### 10. OTA –≤—Ä—É—á–Ω—É—é ‚úÖ
**–ü–æ—á–µ–º—É:** –ë–µ–∑–æ–ø–∞—Å–Ω–µ–µ, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

---

## üîß –ö–û–ú–ê–ù–î–´ –†–ê–ó–†–ê–ë–û–¢–ö–ò

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —É–∑–ª–∞ (–∏–∑ —à–∞–±–ª–æ–Ω–∞):

```bash
cd c:\Users\admin\2\mesh_hydro_v2
cp -r node_template node_my_custom
cd node_my_custom
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å main/app_main.c, –∏–∑–º–µ–Ω–∏—Ç—å node_id
```

### –°–±–æ—Ä–∫–∞ –∏ –ø—Ä–æ—à–∏–≤–∫–∞:

```bash
cd c:\Users\admin\2\mesh_hydro_v2\root_node
idf.py build
idf.py -p COM3 flash monitor
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞):

```bash
# Laravel
cd server/backend
php artisan mqtt:listen &
php artisan serve

# Vue.js
cd server/frontend
npm run dev
```

---

## üìä –ß–ï–ö–õ–ò–°–¢ –ì–û–¢–û–í–ù–û–°–¢–ò

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—å:

**–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:**
- [ ] 3√ó ESP32-S3 (–µ—Å—Ç—å)
- [ ] 1√ó ESP32 –æ–±—ã—á–Ω—ã–π (–¥–æ–∫—É–ø–∏—Ç—å)
- [ ] 1√ó ESP32 –æ–±—ã—á–Ω—ã–π (–¥–æ–∫—É–ø–∏—Ç—å)
- [ ] 1√ó ESP32-C3 (–¥–æ–∫—É–ø–∏—Ç—å)
- [ ] TFT ILI9341 (–µ—Å—Ç—å)
- [ ] –≠–Ω–∫–æ–¥–µ—Ä (–µ—Å—Ç—å)
- [ ] OLED SSD1306 128x64 (–¥–æ–∫—É–ø–∏—Ç—å)
- [ ] 2√ó –õ–∏–Ω–µ–π–Ω—ã–µ –∞–∫—Ç—É–∞—Ç–æ—Ä—ã 12V (–¥–æ–∫—É–ø–∏—Ç—å)
- [ ] –î–∞—Ç—á–∏–∫–∏ (pH, EC, SHT3x...) - –µ—Å—Ç—å
- [ ] –ù–∞—Å–æ—Å—ã - –µ—Å—Ç—å

**–ü–û:**
- [ ] ESP-IDF v5.5.1 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] PHP 8.2 + Composer
- [ ] Node.js 18+
- [ ] PostgreSQL 15
- [ ] Mosquitto MQTT

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [ ] –ü—Ä–æ—á–∏—Ç–∞–ª MESH_HYDRO_V2_FINAL_PLAN.md
- [ ] –ü—Ä–æ—á–∏—Ç–∞–ª MESH_AI_QUICK_START.md
- [ ] –ü–æ–Ω—è–ª –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- [ ] –ó–Ω–∞—é –∫–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ hydro1.0

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –î–µ–Ω—å 1-2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# 1. –ò–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
cat MESH_HYDRO_V2_FINAL_PLAN.md
cat MESH_AI_QUICK_START.md

# 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ü–û
```

### –î–µ–Ω—å 3-6: –ë–∞–∑–æ–≤–∞—è mesh-—Å–µ—Ç—å

```bash
# –°–æ–∑–¥–∞—Ç—å mesh_manager, mesh_protocol, node_config
# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ROOT + NODE
```

### –î–µ–Ω—å 7-10: ROOT + –°–µ—Ä–≤–µ—Ä

```bash
# –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ROOT —É–∑–µ–ª
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Laravel + PostgreSQL
# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ROOT ‚Üí MQTT ‚Üí Server
```

### –î–µ–Ω—å 11-15: NODE pH/EC (–ö–†–ò–¢–ò–ß–ù–û!)

```bash
# –ü–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
# –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–Ω–æ–º–∏—é
# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–µ—Ä—é —Å–≤—è–∑–∏!
```

### –î–µ–Ω—å 16+: –û—Å—Ç–∞–ª—å–Ω—ã–µ —É–∑–ª—ã

```bash
# Display, Climate, Relay, Water
# Telegram, SMS, OTA
```

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ:

1. –°–º–æ—Ç—Ä–∏ –ø—Ä–∏–º–µ—Ä—ã –≤ hydro1.0/components/
2. –ß–∏—Ç–∞–π MESH_AI_QUICK_START.md
3. –°–º–æ—Ç—Ä–∏ ESP-IDF –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
4. –ü—Ä–æ–≤–µ—Ä—å TROUBLESHOOTING.md (–∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞—à—å)

---

## ‚úÖ –ò–¢–û–ì–û

**–í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏!**

–§–∞–π–ª—ã –ø–ª–∞–Ω–∞:
- ‚úÖ MESH_HYDRO_V2_FINAL_PLAN.md (–≥–ª–∞–≤–Ω—ã–π –ø–ª–∞–Ω)
- ‚úÖ MESH_ARCHITECTURE_PLAN.md (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- ‚úÖ MESH_PINOUT_ALL_NODES.md (GPIO)
- ‚úÖ MESH_IMPLEMENTATION_PRIORITY.md (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)
- ‚úÖ MESH_AI_QUICK_START.md (–±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç)
- ‚úÖ MESH_PROJECT_INDEX.md (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:** –°–æ–∑–¥–∞–Ω–∞ –≤ c:\Users\admin\2\mesh_hydro_v2\

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ù–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é mesh_manager!

---

**–£–¥–∞—á–∏!** üöÄüå±

