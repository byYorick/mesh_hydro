# ü§ñ AI INSTRUCTIONS - NODE Template

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**NODE Template** - —à–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —É–∑–ª–æ–≤ mesh-—Å–µ—Ç–∏

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

1. **–°–∫–æ–ø–∏—Ä—É–π –ø–∞–ø–∫—É:**
   ```bash
   cp -r node_template node_my_new_node
   ```

2. **–ü–µ—Ä–µ–∏–º–µ–Ω—É–π –≤ CMakeLists.txt:**
   ```cmake
   project(node_my_new_node)
   ```

3. **–†–µ–∞–ª–∏–∑—É–π —Å–≤–æ—é –ª–æ–≥–∏–∫—É –≤ app_main.c:**
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è mesh (NODE —Ä–µ–∂–∏–º)
   - –ß—Ç–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–æ–≤ / —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –Ω–∞ ROOT
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –æ—Ç ROOT

4. **–î–æ–±–∞–≤—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
   –°–æ–∑–¥–∞–π `components/` –ø–∞–ø–∫—É —Å–æ —Å–≤–æ–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

---

## üìã –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥

```c
#include "mesh_manager.h"
#include "mesh_protocol.h"

void app_main(void) {
    // 1. NVS
    nvs_flash_init();
    
    // 2. Mesh (NODE —Ä–µ–∂–∏–º)
    mesh_manager_config_t config = {
        .mode = MESH_MODE_NODE,
        .mesh_id = "HYDRO1",
        .mesh_password = "hydro_mesh_pass",
        .channel = 1
    };
    mesh_manager_init(&config);
    mesh_manager_start();
    
    // 3. –¢–≤–æ—è –ª–æ–≥–∏–∫–∞
    while (1) {
        // –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        float value = read_my_sensor();
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
        send_telemetry(value);
        
        vTaskDelay(pdMS_TO_TICKS(10000));
    }
}
```

---

## üîß –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –í CMakeLists.txt –¥–æ–±–∞–≤—å –Ω—É–∂–Ω—ã–µ common –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

```cmake
set(EXTRA_COMPONENT_DIRS 
    "${CMAKE_SOURCE_DIR}/../common/mesh_manager"
    "${CMAKE_SOURCE_DIR}/../common/mesh_protocol"
    "${CMAKE_SOURCE_DIR}/../common/node_config"
    "${CMAKE_SOURCE_DIR}/../common/sensor_base"      # –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–∞—Ç—á–∏–∫–∏
    "${CMAKE_SOURCE_DIR}/../common/actuator_base"    # –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏
)
```

---

## üìö –ü—Ä–∏–º–µ—Ä—ã

–°–º–æ—Ç—Ä–∏ –≥–æ—Ç–æ–≤—ã–µ —É–∑–ª—ã:
- `node_ph_ec/` - —Å–ª–æ–∂–Ω—ã–π —É–∑–µ–ª —Å –∞–≤—Ç–æ–Ω–æ–º–∏–µ–π
- `node_climate/` - –ø—Ä–æ—Å—Ç–æ–π —É–∑–µ–ª —Å –¥–∞—Ç—á–∏–∫–∞–º–∏
- `node_relay/` - —É–∑–µ–ª —Å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏
- `node_water/` - —É–∑–µ–ª —Å –Ω–∞—Å–æ—Å–∞–º–∏

---

## üéØ –ß–µ–∫-–ª–∏—Å—Ç

- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–ª template
- [ ] –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–ª –ø—Ä–æ–µ–∫—Ç
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª CMakeLists.txt
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–ª –ª–æ–≥–∏–∫—É –¥–∞—Ç—á–∏–∫–æ–≤/–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- [ ] –î–æ–±–∞–≤–∏–ª –æ—Ç–ø—Ä–∞–≤–∫—É —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
- [ ] –î–æ–±–∞–≤–∏–ª –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–º–∞–Ω–¥
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª —Å ROOT —É–∑–ª–æ–º
- [ ] –û–±–Ω–æ–≤–∏–ª README.md

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `common/USAGE.md` - –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å common –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `doc/NODE_CREATION_GUIDE.md` - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (TODO)
- `doc/MESH_PROTOCOL.md` - –ü—Ä–æ—Ç–æ–∫–æ–ª –æ–±–º–µ–Ω–∞ (TODO)

**–£–¥–∞—á–∏ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–≤–æ–µ–≥–æ —É–∑–ª–∞!** üöÄ

